<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - ApiIntegrationTest</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>ApiIntegrationTest</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/com.nortal.library.api.html">com.nortal.library.api</a> &gt; ApiIntegrationTest</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">10</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">2.904s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox success" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div class="tab-container">
<ul class="tabLinks">
<li>
<a href="#">Tests</a>
</li>
<li>
<a href="#">Standard output</a>
</li>
<li>
<a href="#">Standard error</a>
</li>
</ul>
<div class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">bookCrudRoundtrip()</td>
<td class="success">0.110s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">borrowAndReturnHappyPath()</td>
<td class="success">1.985s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">extendLoanUpdatesDueDate()</td>
<td class="success">0.112s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">healthEndpointRespondsOk()</td>
<td class="success">0.057s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">listsSeedBooksAndMembers()</td>
<td class="success">0.081s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">memberCrudRoundtrip()</td>
<td class="success">0.127s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">memberSummaryShowsLoansAndReservations()</td>
<td class="success">0.121s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">overdueEndpointListsPastDue()</td>
<td class="success">0.080s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">reserveAndCancelReservation()</td>
<td class="success">0.103s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">searchReturnsFilteredResults()</td>
<td class="success">0.128s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div class="tab">
<h2>Standard output</h2>
<span class="code">
<pre id="class-stdout">11:30:12.603 [Test worker] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [com.nortal.library.api.ApiIntegrationTest]: ApiIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
11:30:12.822 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration com.nortal.library.api.LibraryApplication for test class com.nortal.library.api.ApiIntegrationTest



888b    888                  888             888      888      8888888888        d8888 8888888b.        .d8888b.   .d8888b.   .d8888b.   .d8888b.   
8888b   888                  888             888      888      888              d88888 888   Y88b      d88P  Y88b d88P  Y88b d88P  Y88b d88P  Y88b  
88888b  888                  888             888      888      888             d88P888 888    888             888 888    888        888 888         
888Y88b 888  .d88b.  888d888 888888  8888b.  888      888      8888888        d88P 888 888   d88P           .d88P 888    888      .d88P 888d888b.   
888 Y88b888 d88&quot;&quot;88b 888P&quot;   888        &quot;88b 888      888      888           d88P  888 8888888P&quot;        .od888P&quot;  888    888  .od888P&quot;  888P &quot;Y88b  
888  Y88888 888  888 888     888    .d888888 888      888      888          d88P   888 888             d88P&quot;      888    888 d88P&quot;      888    888  
888   Y8888 Y88..88P 888     Y88b.  888  888 888      888      888         d8888888888 888             888&quot;       Y88b  d88P 888&quot;       Y88b  d88P  
888    Y888  &quot;Y88P&quot;  888      &quot;Y888 &quot;Y888888 888      88888888 8888888888 d88P     888 888             888888888   &quot;Y8888P&quot;  888888888   &quot;Y8888P&quot;   
                                                                                                                                                    
                                                                                                                                                    
                                                                                                                                                    
 .d8888b.                888 d8b                               d8888                   d8b                                                   888    
d88P  Y88b               888 Y8P                              d88888                   Y8P                                                   888    
888    888               888                                 d88P888                                                                         888    
888         .d88b.   .d88888 888 88888b.   .d88b.           d88P 888 .d8888b  .d8888b  888  .d88b.  88888b.  88888b.d88b.   .d88b.  88888b.  888888 
888        d88&quot;&quot;88b d88&quot; 888 888 888 &quot;88b d88P&quot;88b         d88P  888 88K      88K      888 d88P&quot;88b 888 &quot;88b 888 &quot;888 &quot;88b d8P  Y8b 888 &quot;88b 888    
888    888 888  888 888  888 888 888  888 888  888        d88P   888 &quot;Y8888b. &quot;Y8888b. 888 888  888 888  888 888  888  888 88888888 888  888 888    
Y88b  d88P Y88..88P Y88b 888 888 888  888 Y88b 888       d8888888888      X88      X88 888 Y88b 888 888  888 888  888  888 Y8b.     888  888 Y88b.  
 &quot;Y8888P&quot;   &quot;Y88P&quot;   &quot;Y88888 888 888  888  &quot;Y88888      d88P     888  88888P'  88888P' 888  &quot;Y88888 888  888 888  888  888  &quot;Y8888  888  888  &quot;Y888 
                                               888                                              888                                                 
                                          Y8b d88P                                         Y8b d88P                                                 
                                           &quot;Y88P&quot;                                           &quot;Y88P&quot;                                                                                                 

H2 console: http://localhost:0/h2-console
API:        http://localhost:0/api

2025-12-24T11:30:14.101+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Starting ApiIntegrationTest using Java 23.0.1 with PID 25620 (started by ThinkpadT580 in C:\Users\ThinkpadT580\Desktop\nortal-leap-2026-test-assignment\backend\api)
2025-12-24T11:30:14.106+01:00 DEBUG 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-12-24T11:30:14.107+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : No active profile set, falling back to 1 default profile: &quot;default&quot;
2025-12-24T11:30:14.984+01:00  INFO 25620 --- [library-api] [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-24T11:30:15.037+01:00  INFO 25620 --- [library-api] [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 2 JPA repository interfaces.
2025-12-24T11:30:16.486+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-12-24T11:30:16.508+01:00  INFO 25620 --- [library-api] [    Test worker] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-24T11:30:16.509+01:00  INFO 25620 --- [library-api] [    Test worker] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-12-24T11:30:16.667+01:00  INFO 25620 --- [library-api] [    Test worker] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-24T11:30:16.669+01:00  INFO 25620 --- [library-api] [    Test worker] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2497 ms
2025-12-24T11:30:16.904+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-24T11:30:17.204+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:library user=SA
2025-12-24T11:30:17.207+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-24T11:30:17.230+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:library'
2025-12-24T11:30:17.389+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572217389 | took 9ms | statement | connection 1| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS members ( id VARCHAR(255) PRIMARY KEY, name VARCHAR(255) NOT NULL )
CREATE TABLE IF NOT EXISTS members ( id VARCHAR(255) PRIMARY KEY, name VARCHAR(255) NOT NULL );
2025-12-24T11:30:17.390+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572217390 | took 0ms | statement | connection 1| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS books ( id VARCHAR(255) PRIMARY KEY, title VARCHAR(255) NOT NULL, loaned_to VARCHAR(255), due_date DATE )
CREATE TABLE IF NOT EXISTS books ( id VARCHAR(255) PRIMARY KEY, title VARCHAR(255) NOT NULL, loaned_to VARCHAR(255), due_date DATE );
2025-12-24T11:30:17.414+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572217413 | took 22ms | statement | connection 1| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS book_reservations ( book_id VARCHAR(255) NOT NULL, position INTEGER NOT NULL, member_id VARCHAR(255), CONSTRAINT fk_book_reservation_book FOREIGN KEY (book_id) REFERENCES books (id) )
CREATE TABLE IF NOT EXISTS book_reservations ( book_id VARCHAR(255) NOT NULL, position INTEGER NOT NULL, member_id VARCHAR(255), CONSTRAINT fk_book_reservation_book FOREIGN KEY (book_id) REFERENCES books (id) );
2025-12-24T11:30:17.545+01:00  INFO 25620 --- [library-api] [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-24T11:30:17.681+01:00  INFO 25620 --- [library-api] [    Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2025-12-24T11:30:17.762+01:00  INFO 25620 --- [library-api] [    Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-24T11:30:18.286+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-24T11:30:19.759+01:00  INFO 25620 --- [library-api] [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-24T11:30:19.806+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572219806 | took 7ms | statement | connection 3| url jdbc:h2:mem:library
select * from INFORMATION_SCHEMA.SEQUENCES
select * from INFORMATION_SCHEMA.SEQUENCES;
2025-12-24T11:30:19.833+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572219833 | took 11ms | statement | connection 3| url jdbc:h2:mem:library
alter table if exists members add column count integer not null
alter table if exists members add column count integer not null;
2025-12-24T11:30:19.842+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572219842 | took 0ms | statement | connection 3| url jdbc:h2:mem:library
select * from &quot;LIBRARY&quot;.&quot;PUBLIC&quot;.&quot;BOOKS&quot; where 1=0
select * from &quot;LIBRARY&quot;.&quot;PUBLIC&quot;.&quot;BOOKS&quot; where 1=0;
2025-12-24T11:30:19.847+01:00  INFO 25620 --- [library-api] [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-24T11:30:21.442+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 61491 (http) with context path '/'
2025-12-24T11:30:21.455+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Started ApiIntegrationTest in 7.984 seconds (process running for 10.559)
2025-12-24T11:30:21.578+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221578 | took 0ms | statement | connection 4| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:21.641+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221641 | took 1ms | statement | connection 4| url jdbc:h2:mem:library
insert into members (count,name,id) values (?,?,?)
insert into members (count,name,id) values (0,'Kertu','m1');
2025-12-24T11:30:21.646+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221646 | took 0ms | commit | connection 4| url jdbc:h2:mem:library

;
2025-12-24T11:30:21.649+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221649 | took 0ms | statement | connection 5| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m2';
2025-12-24T11:30:21.651+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221651 | took 0ms | statement | connection 5| url jdbc:h2:mem:library
insert into members (count,name,id) values (?,?,?)
insert into members (count,name,id) values (0,'Rasmus','m2');
2025-12-24T11:30:21.652+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221652 | took 0ms | commit | connection 5| url jdbc:h2:mem:library

;
2025-12-24T11:30:21.653+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221653 | took 0ms | statement | connection 6| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m3';
2025-12-24T11:30:21.655+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221655 | took 0ms | statement | connection 6| url jdbc:h2:mem:library
insert into members (count,name,id) values (?,?,?)
insert into members (count,name,id) values (0,'Liis','m3');
2025-12-24T11:30:21.655+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221655 | took 0ms | commit | connection 6| url jdbc:h2:mem:library

;
2025-12-24T11:30:21.657+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221657 | took 0ms | statement | connection 7| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m4';
2025-12-24T11:30:21.658+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221658 | took 0ms | statement | connection 7| url jdbc:h2:mem:library
insert into members (count,name,id) values (?,?,?)
insert into members (count,name,id) values (0,'Markus','m4');
2025-12-24T11:30:21.659+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221659 | took 0ms | commit | connection 7| url jdbc:h2:mem:library

;
2025-12-24T11:30:21.663+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221663 | took 0ms | statement | connection 8| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b1';
2025-12-24T11:30:21.687+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221687 | took 0ms | statement | connection 8| url jdbc:h2:mem:library
insert into books (due_date,loaned_to,title,id) values (?,?,?,?)
insert into books (due_date,loaned_to,title,id) values (NULL,NULL,'Clean Code','b1');
2025-12-24T11:30:21.697+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221697 | took 0ms | commit | connection 8| url jdbc:h2:mem:library

;
2025-12-24T11:30:21.700+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221700 | took 0ms | statement | connection 9| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b2';
2025-12-24T11:30:21.701+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221701 | took 0ms | statement | connection 9| url jdbc:h2:mem:library
insert into books (due_date,loaned_to,title,id) values (?,?,?,?)
insert into books (due_date,loaned_to,title,id) values (NULL,NULL,'Domain-Driven Design','b2');
2025-12-24T11:30:21.702+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221702 | took 0ms | commit | connection 9| url jdbc:h2:mem:library

;
2025-12-24T11:30:21.703+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221703 | took 0ms | statement | connection 10| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b3';
2025-12-24T11:30:21.705+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221705 | took 0ms | statement | connection 10| url jdbc:h2:mem:library
insert into books (due_date,loaned_to,title,id) values (?,?,?,?)
insert into books (due_date,loaned_to,title,id) values (NULL,NULL,'Refactoring','b3');
2025-12-24T11:30:21.706+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221706 | took 0ms | commit | connection 10| url jdbc:h2:mem:library

;
2025-12-24T11:30:21.707+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221707 | took 0ms | statement | connection 11| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b4';
2025-12-24T11:30:21.708+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221708 | took 0ms | statement | connection 11| url jdbc:h2:mem:library
insert into books (due_date,loaned_to,title,id) values (?,?,?,?)
insert into books (due_date,loaned_to,title,id) values (NULL,NULL,'Effective Java','b4');
2025-12-24T11:30:21.709+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221709 | took 0ms | commit | connection 11| url jdbc:h2:mem:library

;
2025-12-24T11:30:21.710+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221710 | took 0ms | statement | connection 12| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b5';
2025-12-24T11:30:21.712+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221712 | took 0ms | statement | connection 12| url jdbc:h2:mem:library
insert into books (due_date,loaned_to,title,id) values (?,?,?,?)
insert into books (due_date,loaned_to,title,id) values (NULL,NULL,'Design Patterns','b5');
2025-12-24T11:30:21.714+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221714 | took 0ms | commit | connection 12| url jdbc:h2:mem:library

;
2025-12-24T11:30:21.716+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221716 | took 0ms | statement | connection 13| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b6';
2025-12-24T11:30:21.718+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221718 | took 0ms | statement | connection 13| url jdbc:h2:mem:library
insert into books (due_date,loaned_to,title,id) values (?,?,?,?)
insert into books (due_date,loaned_to,title,id) values (NULL,NULL,'The Pragmatic Programmer','b6');
2025-12-24T11:30:21.719+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572221719 | took 0ms | commit | connection 13| url jdbc:h2:mem:library

;
2025-12-24T11:30:22.729+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-24T11:30:22.729+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-24T11:30:22.730+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-12-24T11:30:22.883+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-1] p6spy                                    : #1766572222883 | took 0ms | statement | connection 14| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b1';
2025-12-24T11:30:22.889+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-1] p6spy                                    : #1766572222889 | took 0ms | commit | connection 14| url jdbc:h2:mem:library

;
2025-12-24T11:30:23.430+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-1] p6spy                                    : #1766572223430 | took 2ms | statement | connection 14| url jdbc:h2:mem:library
select count(*) from members m1_0 where m1_0.id=?
select count(*) from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:23.433+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-1] p6spy                                    : #1766572223433 | took 0ms | commit | connection 14| url jdbc:h2:mem:library

;
2025-12-24T11:30:23.435+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-1] p6spy                                    : #1766572223435 | took 0ms | commit | connection 14| url jdbc:h2:mem:library

;
2025-12-24T11:30:23.437+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-1] p6spy                                    : #1766572223437 | took 0ms | statement | connection 14| url jdbc:h2:mem:library
select count(*) from members m1_0 where m1_0.id=?
select count(*) from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:23.438+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-1] p6spy                                    : #1766572223438 | took 0ms | commit | connection 14| url jdbc:h2:mem:library

;
2025-12-24T11:30:23.440+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-1] p6spy                                    : #1766572223440 | took 0ms | statement | connection 14| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:23.440+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-1] p6spy                                    : #1766572223440 | took 0ms | commit | connection 14| url jdbc:h2:mem:library

;
2025-12-24T11:30:23.444+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-1] p6spy                                    : #1766572223444 | took 0ms | statement | connection 14| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b1';
2025-12-24T11:30:23.445+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-1] p6spy                                    : #1766572223445 | took 0ms | commit | connection 14| url jdbc:h2:mem:library

;
2025-12-24T11:30:23.455+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-1] p6spy                                    : #1766572223455 | took 0ms | statement | connection 14| url jdbc:h2:mem:library
update books set due_date=?,loaned_to=?,title=? where id=?
update books set due_date='2026-01-07T00:00:00.000+0100',loaned_to='m1',title='Clean Code' where id='b1';
2025-12-24T11:30:23.457+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-1] p6spy                                    : #1766572223457 | took 0ms | statement | connection 14| url jdbc:h2:mem:library
update members set count=?,name=? where id=?
update members set count=1,name='Kertu' where id='m1';
2025-12-24T11:30:23.458+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-1] p6spy                                    : #1766572223458 | took 0ms | commit | connection 14| url jdbc:h2:mem:library

;
Member ID m1
2025-12-24T11:30:23.587+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-2] p6spy                                    : #1766572223587 | took 0ms | statement | connection 15| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b1';
2025-12-24T11:30:23.587+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-2] p6spy                                    : #1766572223587 | took 0ms | commit | connection 15| url jdbc:h2:mem:library

;
2025-12-24T11:30:23.588+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-2] p6spy                                    : #1766572223588 | took 0ms | statement | connection 15| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b1';
2025-12-24T11:30:23.589+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-2] p6spy                                    : #1766572223589 | took 0ms | statement | connection 15| url jdbc:h2:mem:library
update books set due_date=?,loaned_to=?,title=? where id=?
update books set due_date=NULL,loaned_to=NULL,title='Clean Code' where id='b1';
2025-12-24T11:30:23.590+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-2] p6spy                                    : #1766572223590 | took 0ms | commit | connection 15| url jdbc:h2:mem:library

;
2025-12-24T11:30:23.623+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-3] p6spy                                    : #1766572223623 | took 0ms | statement | connection 16| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0;
2025-12-24T11:30:23.626+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-3] p6spy                                    : #1766572223626 | took 0ms | commit | connection 16| url jdbc:h2:mem:library

;
2025-12-24T11:30:23.639+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-3] p6spy                                    : #1766572223639 | took 0ms | statement | connection 16| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b1';
2025-12-24T11:30:23.640+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-3] p6spy                                    : #1766572223640 | took 0ms | statement | connection 16| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b2';
2025-12-24T11:30:23.641+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-3] p6spy                                    : #1766572223641 | took 0ms | statement | connection 16| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b3';
2025-12-24T11:30:23.641+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-3] p6spy                                    : #1766572223641 | took 0ms | statement | connection 16| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b4';
2025-12-24T11:30:23.643+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-3] p6spy                                    : #1766572223643 | took 0ms | statement | connection 16| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b5';
2025-12-24T11:30:23.644+01:00  INFO 25620 --- [library-api] [o-auto-1-exec-3] p6spy                                    : #1766572223644 | took 0ms | statement | connection 16| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b6';
2025-12-24T11:30:23.675+01:00  INFO 25620 --- [library-api] [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-24T11:30:23.681+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-24T11:30:23.688+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.



888b    888                  888             888      888      8888888888        d8888 8888888b.        .d8888b.   .d8888b.   .d8888b.   .d8888b.   
8888b   888                  888             888      888      888              d88888 888   Y88b      d88P  Y88b d88P  Y88b d88P  Y88b d88P  Y88b  
88888b  888                  888             888      888      888             d88P888 888    888             888 888    888        888 888         
888Y88b 888  .d88b.  888d888 888888  8888b.  888      888      8888888        d88P 888 888   d88P           .d88P 888    888      .d88P 888d888b.   
888 Y88b888 d88&quot;&quot;88b 888P&quot;   888        &quot;88b 888      888      888           d88P  888 8888888P&quot;        .od888P&quot;  888    888  .od888P&quot;  888P &quot;Y88b  
888  Y88888 888  888 888     888    .d888888 888      888      888          d88P   888 888             d88P&quot;      888    888 d88P&quot;      888    888  
888   Y8888 Y88..88P 888     Y88b.  888  888 888      888      888         d8888888888 888             888&quot;       Y88b  d88P 888&quot;       Y88b  d88P  
888    Y888  &quot;Y88P&quot;  888      &quot;Y888 &quot;Y888888 888      88888888 8888888888 d88P     888 888             888888888   &quot;Y8888P&quot;  888888888   &quot;Y8888P&quot;   
                                                                                                                                                    
                                                                                                                                                    
                                                                                                                                                    
 .d8888b.                888 d8b                               d8888                   d8b                                                   888    
d88P  Y88b               888 Y8P                              d88888                   Y8P                                                   888    
888    888               888                                 d88P888                                                                         888    
888         .d88b.   .d88888 888 88888b.   .d88b.           d88P 888 .d8888b  .d8888b  888  .d88b.  88888b.  88888b.d88b.   .d88b.  88888b.  888888 
888        d88&quot;&quot;88b d88&quot; 888 888 888 &quot;88b d88P&quot;88b         d88P  888 88K      88K      888 d88P&quot;88b 888 &quot;88b 888 &quot;888 &quot;88b d8P  Y8b 888 &quot;88b 888    
888    888 888  888 888  888 888 888  888 888  888        d88P   888 &quot;Y8888b. &quot;Y8888b. 888 888  888 888  888 888  888  888 88888888 888  888 888    
Y88b  d88P Y88..88P Y88b 888 888 888  888 Y88b 888       d8888888888      X88      X88 888 Y88b 888 888  888 888  888  888 Y8b.     888  888 Y88b.  
 &quot;Y8888P&quot;   &quot;Y88P&quot;   &quot;Y88888 888 888  888  &quot;Y88888      d88P     888  88888P'  88888P' 888  &quot;Y88888 888  888 888  888  888  &quot;Y8888  888  888  &quot;Y888 
                                               888                                              888                                                 
                                          Y8b d88P                                         Y8b d88P                                                 
                                           &quot;Y88P&quot;                                           &quot;Y88P&quot;                                                                                                 

H2 console: http://localhost:0/h2-console
API:        http://localhost:0/api

2025-12-24T11:30:23.777+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Starting ApiIntegrationTest using Java 23.0.1 with PID 25620 (started by ThinkpadT580 in C:\Users\ThinkpadT580\Desktop\nortal-leap-2026-test-assignment\backend\api)
2025-12-24T11:30:23.777+01:00 DEBUG 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-12-24T11:30:23.777+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : No active profile set, falling back to 1 default profile: &quot;default&quot;
2025-12-24T11:30:24.047+01:00  INFO 25620 --- [library-api] [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-24T11:30:24.055+01:00  INFO 25620 --- [library-api] [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 2 JPA repository interfaces.
2025-12-24T11:30:24.235+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-12-24T11:30:24.236+01:00  INFO 25620 --- [library-api] [    Test worker] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-24T11:30:24.237+01:00  INFO 25620 --- [library-api] [    Test worker] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-12-24T11:30:24.315+01:00  INFO 25620 --- [library-api] [    Test worker] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-24T11:30:24.315+01:00  INFO 25620 --- [library-api] [    Test worker] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 534 ms
2025-12-24T11:30:24.350+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-12-24T11:30:24.352+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:library user=SA
2025-12-24T11:30:24.353+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-12-24T11:30:24.353+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:library'
2025-12-24T11:30:24.397+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224397 | took 0ms | statement | connection 18| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS members ( id VARCHAR(255) PRIMARY KEY, name VARCHAR(255) NOT NULL )
CREATE TABLE IF NOT EXISTS members ( id VARCHAR(255) PRIMARY KEY, name VARCHAR(255) NOT NULL );
2025-12-24T11:30:24.398+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224398 | took 0ms | statement | connection 18| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS books ( id VARCHAR(255) PRIMARY KEY, title VARCHAR(255) NOT NULL, loaned_to VARCHAR(255), due_date DATE )
CREATE TABLE IF NOT EXISTS books ( id VARCHAR(255) PRIMARY KEY, title VARCHAR(255) NOT NULL, loaned_to VARCHAR(255), due_date DATE );
2025-12-24T11:30:24.399+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224398 | took 0ms | statement | connection 18| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS book_reservations ( book_id VARCHAR(255) NOT NULL, position INTEGER NOT NULL, member_id VARCHAR(255), CONSTRAINT fk_book_reservation_book FOREIGN KEY (book_id) REFERENCES books (id) )
CREATE TABLE IF NOT EXISTS book_reservations ( book_id VARCHAR(255) NOT NULL, position INTEGER NOT NULL, member_id VARCHAR(255), CONSTRAINT fk_book_reservation_book FOREIGN KEY (book_id) REFERENCES books (id) );
2025-12-24T11:30:24.417+01:00  INFO 25620 --- [library-api] [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-24T11:30:24.424+01:00  INFO 25620 --- [library-api] [    Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-24T11:30:24.440+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-24T11:30:24.523+01:00  INFO 25620 --- [library-api] [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-24T11:30:24.524+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224524 | took 0ms | statement | connection 20| url jdbc:h2:mem:library
select * from INFORMATION_SCHEMA.SEQUENCES
select * from INFORMATION_SCHEMA.SEQUENCES;
2025-12-24T11:30:24.525+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224525 | took 0ms | statement | connection 20| url jdbc:h2:mem:library
select * from &quot;LIBRARY&quot;.&quot;PUBLIC&quot;.&quot;BOOKS&quot; where 1=0
select * from &quot;LIBRARY&quot;.&quot;PUBLIC&quot;.&quot;BOOKS&quot; where 1=0;
2025-12-24T11:30:24.526+01:00  INFO 25620 --- [library-api] [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-24T11:30:24.793+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 61494 (http) with context path '/'
2025-12-24T11:30:24.797+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Started ApiIntegrationTest in 1.079 seconds (process running for 13.901)
2025-12-24T11:30:24.800+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224800 | took 0ms | statement | connection 21| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:24.803+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224802 | took 0ms | statement | connection 21| url jdbc:h2:mem:library
update members set count=?,name=? where id=?
update members set count=0,name='Kertu' where id='m1';
2025-12-24T11:30:24.803+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224803 | took 0ms | commit | connection 21| url jdbc:h2:mem:library

;
2025-12-24T11:30:24.804+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224804 | took 0ms | statement | connection 22| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m2';
2025-12-24T11:30:24.805+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224805 | took 0ms | commit | connection 22| url jdbc:h2:mem:library

;
2025-12-24T11:30:24.806+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224806 | took 0ms | statement | connection 23| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m3';
2025-12-24T11:30:24.807+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224807 | took 0ms | commit | connection 23| url jdbc:h2:mem:library

;
2025-12-24T11:30:24.808+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224808 | took 0ms | statement | connection 24| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m4';
2025-12-24T11:30:24.809+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224809 | took 0ms | commit | connection 24| url jdbc:h2:mem:library

;
2025-12-24T11:30:24.811+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224811 | took 0ms | statement | connection 25| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b1';
2025-12-24T11:30:24.813+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224813 | took 0ms | statement | connection 25| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b1';
2025-12-24T11:30:24.814+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224814 | took 0ms | commit | connection 25| url jdbc:h2:mem:library

;
2025-12-24T11:30:24.815+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224815 | took 0ms | statement | connection 26| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b2';
2025-12-24T11:30:24.816+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224816 | took 0ms | statement | connection 26| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b2';
2025-12-24T11:30:24.816+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224816 | took 0ms | commit | connection 26| url jdbc:h2:mem:library

;
2025-12-24T11:30:24.817+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224817 | took 0ms | statement | connection 27| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b3';
2025-12-24T11:30:24.819+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224819 | took 0ms | statement | connection 27| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b3';
2025-12-24T11:30:24.819+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224819 | took 0ms | commit | connection 27| url jdbc:h2:mem:library

;
2025-12-24T11:30:24.820+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224820 | took 0ms | statement | connection 28| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b4';
2025-12-24T11:30:24.821+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224821 | took 0ms | statement | connection 28| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b4';
2025-12-24T11:30:24.822+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224822 | took 0ms | commit | connection 28| url jdbc:h2:mem:library

;
2025-12-24T11:30:24.823+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224823 | took 0ms | statement | connection 29| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b5';
2025-12-24T11:30:24.824+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224824 | took 0ms | statement | connection 29| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b5';
2025-12-24T11:30:24.825+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224825 | took 0ms | commit | connection 29| url jdbc:h2:mem:library

;
2025-12-24T11:30:24.827+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224827 | took 0ms | statement | connection 30| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b6';
2025-12-24T11:30:24.827+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224827 | took 0ms | statement | connection 30| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b6';
2025-12-24T11:30:24.828+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572224828 | took 0ms | commit | connection 30| url jdbc:h2:mem:library

;
2025-12-24T11:30:24.838+01:00  INFO 25620 --- [library-api] [o-auto-2-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-24T11:30:24.839+01:00  INFO 25620 --- [library-api] [o-auto-2-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-24T11:30:24.840+01:00  INFO 25620 --- [library-api] [o-auto-2-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-12-24T11:30:24.853+01:00  INFO 25620 --- [library-api] [o-auto-2-exec-1] p6spy                                    : #1766572224853 | took 0ms | statement | connection 31| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='vm1';
2025-12-24T11:30:24.855+01:00  INFO 25620 --- [library-api] [o-auto-2-exec-1] p6spy                                    : #1766572224855 | took 0ms | statement | connection 31| url jdbc:h2:mem:library
insert into members (count,name,id) values (?,?,?)
insert into members (count,name,id) values (0,'Visible Member','vm1');
2025-12-24T11:30:24.855+01:00  INFO 25620 --- [library-api] [o-auto-2-exec-1] p6spy                                    : #1766572224855 | took 0ms | commit | connection 31| url jdbc:h2:mem:library

;
2025-12-24T11:30:24.869+01:00  INFO 25620 --- [library-api] [o-auto-2-exec-2] p6spy                                    : #1766572224869 | took 0ms | statement | connection 32| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='vm1';
2025-12-24T11:30:24.869+01:00  INFO 25620 --- [library-api] [o-auto-2-exec-2] p6spy                                    : #1766572224869 | took 0ms | commit | connection 32| url jdbc:h2:mem:library

;
2025-12-24T11:30:24.871+01:00  INFO 25620 --- [library-api] [o-auto-2-exec-2] p6spy                                    : #1766572224871 | took 0ms | statement | connection 32| url jdbc:h2:mem:library
update members set count=?,name=? where id=?
update members set count=0,name='Renamed' where id='vm1';
2025-12-24T11:30:24.871+01:00  INFO 25620 --- [library-api] [o-auto-2-exec-2] p6spy                                    : #1766572224871 | took 0ms | commit | connection 32| url jdbc:h2:mem:library

;
2025-12-24T11:30:24.883+01:00  INFO 25620 --- [library-api] [o-auto-2-exec-3] p6spy                                    : #1766572224883 | took 0ms | statement | connection 33| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0
select m1_0.id,m1_0.count,m1_0.name from members m1_0;
2025-12-24T11:30:24.890+01:00  INFO 25620 --- [library-api] [o-auto-2-exec-3] p6spy                                    : #1766572224890 | took 0ms | commit | connection 33| url jdbc:h2:mem:library

;
2025-12-24T11:30:24.907+01:00  INFO 25620 --- [library-api] [o-auto-2-exec-4] p6spy                                    : #1766572224907 | took 0ms | statement | connection 34| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='vm1';
2025-12-24T11:30:24.908+01:00  INFO 25620 --- [library-api] [o-auto-2-exec-4] p6spy                                    : #1766572224908 | took 0ms | commit | connection 34| url jdbc:h2:mem:library

;
2025-12-24T11:30:24.914+01:00  INFO 25620 --- [library-api] [o-auto-2-exec-4] p6spy                                    : #1766572224914 | took 0ms | statement | connection 34| url jdbc:h2:mem:library
delete from members where id=?
delete from members where id='vm1';
2025-12-24T11:30:24.916+01:00  INFO 25620 --- [library-api] [o-auto-2-exec-4] p6spy                                    : #1766572224916 | took 0ms | commit | connection 34| url jdbc:h2:mem:library

;
2025-12-24T11:30:24.931+01:00  INFO 25620 --- [library-api] [o-auto-2-exec-5] p6spy                                    : #1766572224931 | took 0ms | statement | connection 35| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0
select m1_0.id,m1_0.count,m1_0.name from members m1_0;
2025-12-24T11:30:24.933+01:00  INFO 25620 --- [library-api] [o-auto-2-exec-5] p6spy                                    : #1766572224933 | took 0ms | commit | connection 35| url jdbc:h2:mem:library

;
2025-12-24T11:30:24.952+01:00  INFO 25620 --- [library-api] [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-24T11:30:24.953+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-12-24T11:30:24.954+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.



888b    888                  888             888      888      8888888888        d8888 8888888b.        .d8888b.   .d8888b.   .d8888b.   .d8888b.   
8888b   888                  888             888      888      888              d88888 888   Y88b      d88P  Y88b d88P  Y88b d88P  Y88b d88P  Y88b  
88888b  888                  888             888      888      888             d88P888 888    888             888 888    888        888 888         
888Y88b 888  .d88b.  888d888 888888  8888b.  888      888      8888888        d88P 888 888   d88P           .d88P 888    888      .d88P 888d888b.   
888 Y88b888 d88&quot;&quot;88b 888P&quot;   888        &quot;88b 888      888      888           d88P  888 8888888P&quot;        .od888P&quot;  888    888  .od888P&quot;  888P &quot;Y88b  
888  Y88888 888  888 888     888    .d888888 888      888      888          d88P   888 888             d88P&quot;      888    888 d88P&quot;      888    888  
888   Y8888 Y88..88P 888     Y88b.  888  888 888      888      888         d8888888888 888             888&quot;       Y88b  d88P 888&quot;       Y88b  d88P  
888    Y888  &quot;Y88P&quot;  888      &quot;Y888 &quot;Y888888 888      88888888 8888888888 d88P     888 888             888888888   &quot;Y8888P&quot;  888888888   &quot;Y8888P&quot;   
                                                                                                                                                    
                                                                                                                                                    
                                                                                                                                                    
 .d8888b.                888 d8b                               d8888                   d8b                                                   888    
d88P  Y88b               888 Y8P                              d88888                   Y8P                                                   888    
888    888               888                                 d88P888                                                                         888    
888         .d88b.   .d88888 888 88888b.   .d88b.           d88P 888 .d8888b  .d8888b  888  .d88b.  88888b.  88888b.d88b.   .d88b.  88888b.  888888 
888        d88&quot;&quot;88b d88&quot; 888 888 888 &quot;88b d88P&quot;88b         d88P  888 88K      88K      888 d88P&quot;88b 888 &quot;88b 888 &quot;888 &quot;88b d8P  Y8b 888 &quot;88b 888    
888    888 888  888 888  888 888 888  888 888  888        d88P   888 &quot;Y8888b. &quot;Y8888b. 888 888  888 888  888 888  888  888 88888888 888  888 888    
Y88b  d88P Y88..88P Y88b 888 888 888  888 Y88b 888       d8888888888      X88      X88 888 Y88b 888 888  888 888  888  888 Y8b.     888  888 Y88b.  
 &quot;Y8888P&quot;   &quot;Y88P&quot;   &quot;Y88888 888 888  888  &quot;Y88888      d88P     888  88888P'  88888P' 888  &quot;Y88888 888  888 888  888  888  &quot;Y8888  888  888  &quot;Y888 
                                               888                                              888                                                 
                                          Y8b d88P                                         Y8b d88P                                                 
                                           &quot;Y88P&quot;                                           &quot;Y88P&quot;                                                                                                 

H2 console: http://localhost:0/h2-console
API:        http://localhost:0/api

2025-12-24T11:30:25.008+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Starting ApiIntegrationTest using Java 23.0.1 with PID 25620 (started by ThinkpadT580 in C:\Users\ThinkpadT580\Desktop\nortal-leap-2026-test-assignment\backend\api)
2025-12-24T11:30:25.008+01:00 DEBUG 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-12-24T11:30:25.009+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : No active profile set, falling back to 1 default profile: &quot;default&quot;
2025-12-24T11:30:25.237+01:00  INFO 25620 --- [library-api] [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-24T11:30:25.244+01:00  INFO 25620 --- [library-api] [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 2 JPA repository interfaces.
2025-12-24T11:30:25.382+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-12-24T11:30:25.383+01:00  INFO 25620 --- [library-api] [    Test worker] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-24T11:30:25.384+01:00  INFO 25620 --- [library-api] [    Test worker] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-12-24T11:30:25.460+01:00  INFO 25620 --- [library-api] [    Test worker] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-24T11:30:25.460+01:00  INFO 25620 --- [library-api] [    Test worker] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 449 ms
2025-12-24T11:30:25.489+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-12-24T11:30:25.490+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection conn20: url=jdbc:h2:mem:library user=SA
2025-12-24T11:30:25.491+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-12-24T11:30:25.491+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:library'
2025-12-24T11:30:25.509+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225509 | took 0ms | statement | connection 37| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS members ( id VARCHAR(255) PRIMARY KEY, name VARCHAR(255) NOT NULL )
CREATE TABLE IF NOT EXISTS members ( id VARCHAR(255) PRIMARY KEY, name VARCHAR(255) NOT NULL );
2025-12-24T11:30:25.510+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225510 | took 0ms | statement | connection 37| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS books ( id VARCHAR(255) PRIMARY KEY, title VARCHAR(255) NOT NULL, loaned_to VARCHAR(255), due_date DATE )
CREATE TABLE IF NOT EXISTS books ( id VARCHAR(255) PRIMARY KEY, title VARCHAR(255) NOT NULL, loaned_to VARCHAR(255), due_date DATE );
2025-12-24T11:30:25.510+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225510 | took 0ms | statement | connection 37| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS book_reservations ( book_id VARCHAR(255) NOT NULL, position INTEGER NOT NULL, member_id VARCHAR(255), CONSTRAINT fk_book_reservation_book FOREIGN KEY (book_id) REFERENCES books (id) )
CREATE TABLE IF NOT EXISTS book_reservations ( book_id VARCHAR(255) NOT NULL, position INTEGER NOT NULL, member_id VARCHAR(255), CONSTRAINT fk_book_reservation_book FOREIGN KEY (book_id) REFERENCES books (id) );
2025-12-24T11:30:25.525+01:00  INFO 25620 --- [library-api] [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-24T11:30:25.533+01:00  INFO 25620 --- [library-api] [    Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-24T11:30:25.555+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-24T11:30:25.646+01:00  INFO 25620 --- [library-api] [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-24T11:30:25.647+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225647 | took 0ms | statement | connection 39| url jdbc:h2:mem:library
select * from INFORMATION_SCHEMA.SEQUENCES
select * from INFORMATION_SCHEMA.SEQUENCES;
2025-12-24T11:30:25.648+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225648 | took 0ms | statement | connection 39| url jdbc:h2:mem:library
select * from &quot;LIBRARY&quot;.&quot;PUBLIC&quot;.&quot;BOOKS&quot; where 1=0
select * from &quot;LIBRARY&quot;.&quot;PUBLIC&quot;.&quot;BOOKS&quot; where 1=0;
2025-12-24T11:30:25.649+01:00  INFO 25620 --- [library-api] [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-24T11:30:25.936+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 61497 (http) with context path '/'
2025-12-24T11:30:25.957+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Started ApiIntegrationTest in 0.995 seconds (process running for 15.061)
2025-12-24T11:30:25.962+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225962 | took 0ms | statement | connection 40| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:25.966+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225966 | took 0ms | commit | connection 40| url jdbc:h2:mem:library

;
2025-12-24T11:30:25.967+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225967 | took 0ms | statement | connection 41| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m2';
2025-12-24T11:30:25.968+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225968 | took 0ms | commit | connection 41| url jdbc:h2:mem:library

;
2025-12-24T11:30:25.970+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225970 | took 0ms | statement | connection 42| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m3';
2025-12-24T11:30:25.971+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225971 | took 0ms | commit | connection 42| url jdbc:h2:mem:library

;
2025-12-24T11:30:25.972+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225972 | took 0ms | statement | connection 43| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m4';
2025-12-24T11:30:25.973+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225973 | took 0ms | commit | connection 43| url jdbc:h2:mem:library

;
2025-12-24T11:30:25.975+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225975 | took 0ms | statement | connection 44| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b1';
2025-12-24T11:30:25.976+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225976 | took 0ms | statement | connection 44| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b1';
2025-12-24T11:30:25.977+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225977 | took 0ms | commit | connection 44| url jdbc:h2:mem:library

;
2025-12-24T11:30:25.979+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225979 | took 0ms | statement | connection 45| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b2';
2025-12-24T11:30:25.980+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225980 | took 0ms | statement | connection 45| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b2';
2025-12-24T11:30:25.980+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225980 | took 0ms | commit | connection 45| url jdbc:h2:mem:library

;
2025-12-24T11:30:25.982+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225982 | took 0ms | statement | connection 46| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b3';
2025-12-24T11:30:25.982+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225982 | took 0ms | statement | connection 46| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b3';
2025-12-24T11:30:25.983+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225983 | took 0ms | commit | connection 46| url jdbc:h2:mem:library

;
2025-12-24T11:30:25.984+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225984 | took 0ms | statement | connection 47| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b4';
2025-12-24T11:30:25.985+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225985 | took 0ms | statement | connection 47| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b4';
2025-12-24T11:30:25.986+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225986 | took 0ms | commit | connection 47| url jdbc:h2:mem:library

;
2025-12-24T11:30:25.988+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225987 | took 0ms | statement | connection 48| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b5';
2025-12-24T11:30:25.989+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225989 | took 0ms | statement | connection 48| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b5';
2025-12-24T11:30:25.989+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225989 | took 0ms | commit | connection 48| url jdbc:h2:mem:library

;
2025-12-24T11:30:25.991+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225991 | took 0ms | statement | connection 49| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b6';
2025-12-24T11:30:25.992+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225992 | took 0ms | statement | connection 49| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b6';
2025-12-24T11:30:25.993+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572225993 | took 0ms | commit | connection 49| url jdbc:h2:mem:library

;
2025-12-24T11:30:26.004+01:00  INFO 25620 --- [library-api] [o-auto-3-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-24T11:30:26.004+01:00  INFO 25620 --- [library-api] [o-auto-3-exec-4] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-24T11:30:26.004+01:00  INFO 25620 --- [library-api] [o-auto-3-exec-4] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-12-24T11:30:26.008+01:00  INFO 25620 --- [library-api] [o-auto-3-exec-4] p6spy                                    : #1766572226008 | took 0ms | statement | connection 50| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0;
2025-12-24T11:30:26.009+01:00  INFO 25620 --- [library-api] [o-auto-3-exec-4] p6spy                                    : #1766572226009 | took 0ms | commit | connection 50| url jdbc:h2:mem:library

;
2025-12-24T11:30:26.014+01:00  INFO 25620 --- [library-api] [o-auto-3-exec-4] p6spy                                    : #1766572226014 | took 0ms | statement | connection 50| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b1';
2025-12-24T11:30:26.015+01:00  INFO 25620 --- [library-api] [o-auto-3-exec-4] p6spy                                    : #1766572226015 | took 0ms | statement | connection 50| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b2';
2025-12-24T11:30:26.015+01:00  INFO 25620 --- [library-api] [o-auto-3-exec-4] p6spy                                    : #1766572226015 | took 0ms | statement | connection 50| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b3';
2025-12-24T11:30:26.016+01:00  INFO 25620 --- [library-api] [o-auto-3-exec-4] p6spy                                    : #1766572226016 | took 0ms | statement | connection 50| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b4';
2025-12-24T11:30:26.017+01:00  INFO 25620 --- [library-api] [o-auto-3-exec-4] p6spy                                    : #1766572226017 | took 0ms | statement | connection 50| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b5';
2025-12-24T11:30:26.018+01:00  INFO 25620 --- [library-api] [o-auto-3-exec-4] p6spy                                    : #1766572226018 | took 0ms | statement | connection 50| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b6';
2025-12-24T11:30:26.025+01:00  INFO 25620 --- [library-api] [o-auto-3-exec-1] p6spy                                    : #1766572226025 | took 0ms | statement | connection 51| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0
select m1_0.id,m1_0.count,m1_0.name from members m1_0;
2025-12-24T11:30:26.026+01:00  INFO 25620 --- [library-api] [o-auto-3-exec-1] p6spy                                    : #1766572226026 | took 0ms | commit | connection 51| url jdbc:h2:mem:library

;
2025-12-24T11:30:26.069+01:00  INFO 25620 --- [library-api] [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-24T11:30:26.070+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-12-24T11:30:26.071+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.



888b    888                  888             888      888      8888888888        d8888 8888888b.        .d8888b.   .d8888b.   .d8888b.   .d8888b.   
8888b   888                  888             888      888      888              d88888 888   Y88b      d88P  Y88b d88P  Y88b d88P  Y88b d88P  Y88b  
88888b  888                  888             888      888      888             d88P888 888    888             888 888    888        888 888         
888Y88b 888  .d88b.  888d888 888888  8888b.  888      888      8888888        d88P 888 888   d88P           .d88P 888    888      .d88P 888d888b.   
888 Y88b888 d88&quot;&quot;88b 888P&quot;   888        &quot;88b 888      888      888           d88P  888 8888888P&quot;        .od888P&quot;  888    888  .od888P&quot;  888P &quot;Y88b  
888  Y88888 888  888 888     888    .d888888 888      888      888          d88P   888 888             d88P&quot;      888    888 d88P&quot;      888    888  
888   Y8888 Y88..88P 888     Y88b.  888  888 888      888      888         d8888888888 888             888&quot;       Y88b  d88P 888&quot;       Y88b  d88P  
888    Y888  &quot;Y88P&quot;  888      &quot;Y888 &quot;Y888888 888      88888888 8888888888 d88P     888 888             888888888   &quot;Y8888P&quot;  888888888   &quot;Y8888P&quot;   
                                                                                                                                                    
                                                                                                                                                    
                                                                                                                                                    
 .d8888b.                888 d8b                               d8888                   d8b                                                   888    
d88P  Y88b               888 Y8P                              d88888                   Y8P                                                   888    
888    888               888                                 d88P888                                                                         888    
888         .d88b.   .d88888 888 88888b.   .d88b.           d88P 888 .d8888b  .d8888b  888  .d88b.  88888b.  88888b.d88b.   .d88b.  88888b.  888888 
888        d88&quot;&quot;88b d88&quot; 888 888 888 &quot;88b d88P&quot;88b         d88P  888 88K      88K      888 d88P&quot;88b 888 &quot;88b 888 &quot;888 &quot;88b d8P  Y8b 888 &quot;88b 888    
888    888 888  888 888  888 888 888  888 888  888        d88P   888 &quot;Y8888b. &quot;Y8888b. 888 888  888 888  888 888  888  888 88888888 888  888 888    
Y88b  d88P Y88..88P Y88b 888 888 888  888 Y88b 888       d8888888888      X88      X88 888 Y88b 888 888  888 888  888  888 Y8b.     888  888 Y88b.  
 &quot;Y8888P&quot;   &quot;Y88P&quot;   &quot;Y88888 888 888  888  &quot;Y88888      d88P     888  88888P'  88888P' 888  &quot;Y88888 888  888 888  888  888  &quot;Y8888  888  888  &quot;Y888 
                                               888                                              888                                                 
                                          Y8b d88P                                         Y8b d88P                                                 
                                           &quot;Y88P&quot;                                           &quot;Y88P&quot;                                                                                                 

H2 console: http://localhost:0/h2-console
API:        http://localhost:0/api

2025-12-24T11:30:26.129+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Starting ApiIntegrationTest using Java 23.0.1 with PID 25620 (started by ThinkpadT580 in C:\Users\ThinkpadT580\Desktop\nortal-leap-2026-test-assignment\backend\api)
2025-12-24T11:30:26.129+01:00 DEBUG 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-12-24T11:30:26.130+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : No active profile set, falling back to 1 default profile: &quot;default&quot;
2025-12-24T11:30:26.343+01:00  INFO 25620 --- [library-api] [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-24T11:30:26.351+01:00  INFO 25620 --- [library-api] [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 2 JPA repository interfaces.
2025-12-24T11:30:26.464+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-12-24T11:30:26.465+01:00  INFO 25620 --- [library-api] [    Test worker] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-24T11:30:26.466+01:00  INFO 25620 --- [library-api] [    Test worker] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-12-24T11:30:26.531+01:00  INFO 25620 --- [library-api] [    Test worker] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-24T11:30:26.531+01:00  INFO 25620 --- [library-api] [    Test worker] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 399 ms
2025-12-24T11:30:26.548+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-12-24T11:30:26.549+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection conn30: url=jdbc:h2:mem:library user=SA
2025-12-24T11:30:26.549+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-12-24T11:30:26.549+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:library'
2025-12-24T11:30:26.568+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226568 | took 0ms | statement | connection 53| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS members ( id VARCHAR(255) PRIMARY KEY, name VARCHAR(255) NOT NULL )
CREATE TABLE IF NOT EXISTS members ( id VARCHAR(255) PRIMARY KEY, name VARCHAR(255) NOT NULL );
2025-12-24T11:30:26.568+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226568 | took 0ms | statement | connection 53| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS books ( id VARCHAR(255) PRIMARY KEY, title VARCHAR(255) NOT NULL, loaned_to VARCHAR(255), due_date DATE )
CREATE TABLE IF NOT EXISTS books ( id VARCHAR(255) PRIMARY KEY, title VARCHAR(255) NOT NULL, loaned_to VARCHAR(255), due_date DATE );
2025-12-24T11:30:26.568+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226568 | took 0ms | statement | connection 53| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS book_reservations ( book_id VARCHAR(255) NOT NULL, position INTEGER NOT NULL, member_id VARCHAR(255), CONSTRAINT fk_book_reservation_book FOREIGN KEY (book_id) REFERENCES books (id) )
CREATE TABLE IF NOT EXISTS book_reservations ( book_id VARCHAR(255) NOT NULL, position INTEGER NOT NULL, member_id VARCHAR(255), CONSTRAINT fk_book_reservation_book FOREIGN KEY (book_id) REFERENCES books (id) );
2025-12-24T11:30:26.580+01:00  INFO 25620 --- [library-api] [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-24T11:30:26.587+01:00  INFO 25620 --- [library-api] [    Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-24T11:30:26.601+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-24T11:30:26.674+01:00  INFO 25620 --- [library-api] [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-24T11:30:26.675+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226675 | took 0ms | statement | connection 55| url jdbc:h2:mem:library
select * from INFORMATION_SCHEMA.SEQUENCES
select * from INFORMATION_SCHEMA.SEQUENCES;
2025-12-24T11:30:26.676+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226676 | took 0ms | statement | connection 55| url jdbc:h2:mem:library
select * from &quot;LIBRARY&quot;.&quot;PUBLIC&quot;.&quot;BOOKS&quot; where 1=0
select * from &quot;LIBRARY&quot;.&quot;PUBLIC&quot;.&quot;BOOKS&quot; where 1=0;
2025-12-24T11:30:26.677+01:00  INFO 25620 --- [library-api] [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-24T11:30:26.899+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 61500 (http) with context path '/'
2025-12-24T11:30:26.904+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Started ApiIntegrationTest in 0.823 seconds (process running for 16.008)
2025-12-24T11:30:26.907+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226907 | took 0ms | statement | connection 56| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:26.909+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226909 | took 0ms | commit | connection 56| url jdbc:h2:mem:library

;
2025-12-24T11:30:26.911+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226911 | took 0ms | statement | connection 57| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m2';
2025-12-24T11:30:26.911+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226911 | took 0ms | commit | connection 57| url jdbc:h2:mem:library

;
2025-12-24T11:30:26.913+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226913 | took 0ms | statement | connection 58| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m3';
2025-12-24T11:30:26.913+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226913 | took 0ms | commit | connection 58| url jdbc:h2:mem:library

;
2025-12-24T11:30:26.915+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226915 | took 0ms | statement | connection 59| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m4';
2025-12-24T11:30:26.915+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226915 | took 0ms | commit | connection 59| url jdbc:h2:mem:library

;
2025-12-24T11:30:26.918+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226918 | took 0ms | statement | connection 60| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b1';
2025-12-24T11:30:26.919+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226919 | took 0ms | statement | connection 60| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b1';
2025-12-24T11:30:26.920+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226920 | took 0ms | commit | connection 60| url jdbc:h2:mem:library

;
2025-12-24T11:30:26.921+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226921 | took 0ms | statement | connection 61| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b2';
2025-12-24T11:30:26.922+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226922 | took 0ms | statement | connection 61| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b2';
2025-12-24T11:30:26.923+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226923 | took 0ms | commit | connection 61| url jdbc:h2:mem:library

;
2025-12-24T11:30:26.924+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226924 | took 0ms | statement | connection 62| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b3';
2025-12-24T11:30:26.924+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226924 | took 0ms | statement | connection 62| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b3';
2025-12-24T11:30:26.925+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226925 | took 0ms | commit | connection 62| url jdbc:h2:mem:library

;
2025-12-24T11:30:26.926+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226926 | took 0ms | statement | connection 63| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b4';
2025-12-24T11:30:26.927+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226927 | took 0ms | statement | connection 63| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b4';
2025-12-24T11:30:26.928+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226928 | took 0ms | commit | connection 63| url jdbc:h2:mem:library

;
2025-12-24T11:30:26.930+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226930 | took 0ms | statement | connection 64| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b5';
2025-12-24T11:30:26.931+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226931 | took 0ms | statement | connection 64| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b5';
2025-12-24T11:30:26.931+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226931 | took 0ms | commit | connection 64| url jdbc:h2:mem:library

;
2025-12-24T11:30:26.932+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226932 | took 0ms | statement | connection 65| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b6';
2025-12-24T11:30:26.933+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226933 | took 0ms | statement | connection 65| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b6';
2025-12-24T11:30:26.934+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572226934 | took 0ms | commit | connection 65| url jdbc:h2:mem:library

;
2025-12-24T11:30:26.943+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-24T11:30:26.943+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-24T11:30:26.944+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-12-24T11:30:26.955+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-1] p6spy                                    : #1766572226955 | took 0ms | statement | connection 66| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='vb1';
2025-12-24T11:30:26.956+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-1] p6spy                                    : #1766572226956 | took 0ms | statement | connection 66| url jdbc:h2:mem:library
insert into books (due_date,loaned_to,title,id) values (?,?,?,?)
insert into books (due_date,loaned_to,title,id) values (NULL,NULL,'Visible Book','vb1');
2025-12-24T11:30:26.957+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-1] p6spy                                    : #1766572226957 | took 0ms | commit | connection 66| url jdbc:h2:mem:library

;
2025-12-24T11:30:26.968+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-2] p6spy                                    : #1766572226968 | took 0ms | statement | connection 67| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='vb1';
2025-12-24T11:30:26.969+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-2] p6spy                                    : #1766572226969 | took 0ms | commit | connection 67| url jdbc:h2:mem:library

;
2025-12-24T11:30:26.970+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-2] p6spy                                    : #1766572226970 | took 0ms | statement | connection 67| url jdbc:h2:mem:library
update books set due_date=?,loaned_to=?,title=? where id=?
update books set due_date=NULL,loaned_to=NULL,title='Renamed' where id='vb1';
2025-12-24T11:30:26.971+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-2] p6spy                                    : #1766572226971 | took 0ms | commit | connection 67| url jdbc:h2:mem:library

;
2025-12-24T11:30:26.978+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-5] p6spy                                    : #1766572226978 | took 0ms | statement | connection 68| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0;
2025-12-24T11:30:26.980+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-5] p6spy                                    : #1766572226980 | took 0ms | commit | connection 68| url jdbc:h2:mem:library

;
2025-12-24T11:30:26.984+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-5] p6spy                                    : #1766572226984 | took 0ms | statement | connection 68| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b1';
2025-12-24T11:30:26.985+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-5] p6spy                                    : #1766572226985 | took 0ms | statement | connection 68| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b2';
2025-12-24T11:30:26.985+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-5] p6spy                                    : #1766572226985 | took 0ms | statement | connection 68| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b3';
2025-12-24T11:30:26.986+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-5] p6spy                                    : #1766572226986 | took 0ms | statement | connection 68| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b4';
2025-12-24T11:30:26.986+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-5] p6spy                                    : #1766572226986 | took 0ms | statement | connection 68| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b5';
2025-12-24T11:30:26.987+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-5] p6spy                                    : #1766572226987 | took 0ms | statement | connection 68| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b6';
2025-12-24T11:30:26.987+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-5] p6spy                                    : #1766572226987 | took 0ms | statement | connection 68| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='vb1';
2025-12-24T11:30:26.996+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-6] p6spy                                    : #1766572226995 | took 0ms | statement | connection 69| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='vb1';
2025-12-24T11:30:26.996+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-6] p6spy                                    : #1766572226996 | took 0ms | commit | connection 69| url jdbc:h2:mem:library

;
2025-12-24T11:30:27.000+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-6] p6spy                                    : #1766572227000 | took 0ms | statement | connection 69| url jdbc:h2:mem:library
delete from book_reservations where book_id=?
delete from book_reservations where book_id='vb1';
2025-12-24T11:30:27.002+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-6] p6spy                                    : #1766572227002 | took 0ms | statement | connection 69| url jdbc:h2:mem:library
delete from books where id=?
delete from books where id='vb1';
2025-12-24T11:30:27.002+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-6] p6spy                                    : #1766572227002 | took 0ms | commit | connection 69| url jdbc:h2:mem:library

;
2025-12-24T11:30:27.007+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-9] p6spy                                    : #1766572227007 | took 0ms | statement | connection 70| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0;
2025-12-24T11:30:27.010+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-9] p6spy                                    : #1766572227010 | took 0ms | commit | connection 70| url jdbc:h2:mem:library

;
2025-12-24T11:30:27.011+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-9] p6spy                                    : #1766572227011 | took 0ms | statement | connection 70| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b1';
2025-12-24T11:30:27.012+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-9] p6spy                                    : #1766572227012 | took 0ms | statement | connection 70| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b2';
2025-12-24T11:30:27.012+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-9] p6spy                                    : #1766572227012 | took 0ms | statement | connection 70| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b3';
2025-12-24T11:30:27.013+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-9] p6spy                                    : #1766572227013 | took 0ms | statement | connection 70| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b4';
2025-12-24T11:30:27.013+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-9] p6spy                                    : #1766572227013 | took 0ms | statement | connection 70| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b5';
2025-12-24T11:30:27.014+01:00  INFO 25620 --- [library-api] [o-auto-4-exec-9] p6spy                                    : #1766572227014 | took 0ms | statement | connection 70| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b6';
2025-12-24T11:30:27.028+01:00  INFO 25620 --- [library-api] [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-24T11:30:27.029+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2025-12-24T11:30:27.036+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.



888b    888                  888             888      888      8888888888        d8888 8888888b.        .d8888b.   .d8888b.   .d8888b.   .d8888b.   
8888b   888                  888             888      888      888              d88888 888   Y88b      d88P  Y88b d88P  Y88b d88P  Y88b d88P  Y88b  
88888b  888                  888             888      888      888             d88P888 888    888             888 888    888        888 888         
888Y88b 888  .d88b.  888d888 888888  8888b.  888      888      8888888        d88P 888 888   d88P           .d88P 888    888      .d88P 888d888b.   
888 Y88b888 d88&quot;&quot;88b 888P&quot;   888        &quot;88b 888      888      888           d88P  888 8888888P&quot;        .od888P&quot;  888    888  .od888P&quot;  888P &quot;Y88b  
888  Y88888 888  888 888     888    .d888888 888      888      888          d88P   888 888             d88P&quot;      888    888 d88P&quot;      888    888  
888   Y8888 Y88..88P 888     Y88b.  888  888 888      888      888         d8888888888 888             888&quot;       Y88b  d88P 888&quot;       Y88b  d88P  
888    Y888  &quot;Y88P&quot;  888      &quot;Y888 &quot;Y888888 888      88888888 8888888888 d88P     888 888             888888888   &quot;Y8888P&quot;  888888888   &quot;Y8888P&quot;   
                                                                                                                                                    
                                                                                                                                                    
                                                                                                                                                    
 .d8888b.                888 d8b                               d8888                   d8b                                                   888    
d88P  Y88b               888 Y8P                              d88888                   Y8P                                                   888    
888    888               888                                 d88P888                                                                         888    
888         .d88b.   .d88888 888 88888b.   .d88b.           d88P 888 .d8888b  .d8888b  888  .d88b.  88888b.  88888b.d88b.   .d88b.  88888b.  888888 
888        d88&quot;&quot;88b d88&quot; 888 888 888 &quot;88b d88P&quot;88b         d88P  888 88K      88K      888 d88P&quot;88b 888 &quot;88b 888 &quot;888 &quot;88b d8P  Y8b 888 &quot;88b 888    
888    888 888  888 888  888 888 888  888 888  888        d88P   888 &quot;Y8888b. &quot;Y8888b. 888 888  888 888  888 888  888  888 88888888 888  888 888    
Y88b  d88P Y88..88P Y88b 888 888 888  888 Y88b 888       d8888888888      X88      X88 888 Y88b 888 888  888 888  888  888 Y8b.     888  888 Y88b.  
 &quot;Y8888P&quot;   &quot;Y88P&quot;   &quot;Y88888 888 888  888  &quot;Y88888      d88P     888  88888P'  88888P' 888  &quot;Y88888 888  888 888  888  888  &quot;Y8888  888  888  &quot;Y888 
                                               888                                              888                                                 
                                          Y8b d88P                                         Y8b d88P                                                 
                                           &quot;Y88P&quot;                                           &quot;Y88P&quot;                                                                                                 

H2 console: http://localhost:0/h2-console
API:        http://localhost:0/api

2025-12-24T11:30:27.103+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Starting ApiIntegrationTest using Java 23.0.1 with PID 25620 (started by ThinkpadT580 in C:\Users\ThinkpadT580\Desktop\nortal-leap-2026-test-assignment\backend\api)
2025-12-24T11:30:27.103+01:00 DEBUG 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-12-24T11:30:27.103+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : No active profile set, falling back to 1 default profile: &quot;default&quot;
2025-12-24T11:30:27.296+01:00  INFO 25620 --- [library-api] [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-24T11:30:27.302+01:00  INFO 25620 --- [library-api] [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 2 JPA repository interfaces.
2025-12-24T11:30:27.412+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-12-24T11:30:27.414+01:00  INFO 25620 --- [library-api] [    Test worker] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-24T11:30:27.414+01:00  INFO 25620 --- [library-api] [    Test worker] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-12-24T11:30:27.481+01:00  INFO 25620 --- [library-api] [    Test worker] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-24T11:30:27.481+01:00  INFO 25620 --- [library-api] [    Test worker] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 375 ms
2025-12-24T11:30:27.496+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2025-12-24T11:30:27.498+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection conn40: url=jdbc:h2:mem:library user=SA
2025-12-24T11:30:27.498+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2025-12-24T11:30:27.498+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:library'
2025-12-24T11:30:27.515+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227515 | took 0ms | statement | connection 72| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS members ( id VARCHAR(255) PRIMARY KEY, name VARCHAR(255) NOT NULL )
CREATE TABLE IF NOT EXISTS members ( id VARCHAR(255) PRIMARY KEY, name VARCHAR(255) NOT NULL );
2025-12-24T11:30:27.515+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227515 | took 0ms | statement | connection 72| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS books ( id VARCHAR(255) PRIMARY KEY, title VARCHAR(255) NOT NULL, loaned_to VARCHAR(255), due_date DATE )
CREATE TABLE IF NOT EXISTS books ( id VARCHAR(255) PRIMARY KEY, title VARCHAR(255) NOT NULL, loaned_to VARCHAR(255), due_date DATE );
2025-12-24T11:30:27.515+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227515 | took 0ms | statement | connection 72| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS book_reservations ( book_id VARCHAR(255) NOT NULL, position INTEGER NOT NULL, member_id VARCHAR(255), CONSTRAINT fk_book_reservation_book FOREIGN KEY (book_id) REFERENCES books (id) )
CREATE TABLE IF NOT EXISTS book_reservations ( book_id VARCHAR(255) NOT NULL, position INTEGER NOT NULL, member_id VARCHAR(255), CONSTRAINT fk_book_reservation_book FOREIGN KEY (book_id) REFERENCES books (id) );
2025-12-24T11:30:27.527+01:00  INFO 25620 --- [library-api] [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-24T11:30:27.533+01:00  INFO 25620 --- [library-api] [    Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-24T11:30:27.550+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-24T11:30:27.619+01:00  INFO 25620 --- [library-api] [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-24T11:30:27.620+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227620 | took 0ms | statement | connection 74| url jdbc:h2:mem:library
select * from INFORMATION_SCHEMA.SEQUENCES
select * from INFORMATION_SCHEMA.SEQUENCES;
2025-12-24T11:30:27.621+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227621 | took 0ms | statement | connection 74| url jdbc:h2:mem:library
select * from &quot;LIBRARY&quot;.&quot;PUBLIC&quot;.&quot;BOOKS&quot; where 1=0
select * from &quot;LIBRARY&quot;.&quot;PUBLIC&quot;.&quot;BOOKS&quot; where 1=0;
2025-12-24T11:30:27.621+01:00  INFO 25620 --- [library-api] [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-24T11:30:27.849+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 61503 (http) with context path '/'
2025-12-24T11:30:27.855+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Started ApiIntegrationTest in 0.803 seconds (process running for 16.959)
2025-12-24T11:30:27.859+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227859 | took 0ms | statement | connection 75| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:27.861+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227861 | took 0ms | commit | connection 75| url jdbc:h2:mem:library

;
2025-12-24T11:30:27.862+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227862 | took 0ms | statement | connection 76| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m2';
2025-12-24T11:30:27.863+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227863 | took 0ms | commit | connection 76| url jdbc:h2:mem:library

;
2025-12-24T11:30:27.864+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227864 | took 0ms | statement | connection 77| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m3';
2025-12-24T11:30:27.865+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227865 | took 0ms | commit | connection 77| url jdbc:h2:mem:library

;
2025-12-24T11:30:27.866+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227866 | took 0ms | statement | connection 78| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m4';
2025-12-24T11:30:27.867+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227867 | took 0ms | commit | connection 78| url jdbc:h2:mem:library

;
2025-12-24T11:30:27.869+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227869 | took 0ms | statement | connection 79| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b1';
2025-12-24T11:30:27.870+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227870 | took 0ms | statement | connection 79| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b1';
2025-12-24T11:30:27.871+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227871 | took 0ms | commit | connection 79| url jdbc:h2:mem:library

;
2025-12-24T11:30:27.872+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227872 | took 0ms | statement | connection 80| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b2';
2025-12-24T11:30:27.873+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227873 | took 0ms | statement | connection 80| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b2';
2025-12-24T11:30:27.873+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227873 | took 0ms | commit | connection 80| url jdbc:h2:mem:library

;
2025-12-24T11:30:27.875+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227875 | took 0ms | statement | connection 81| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b3';
2025-12-24T11:30:27.876+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227876 | took 0ms | statement | connection 81| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b3';
2025-12-24T11:30:27.877+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227877 | took 0ms | commit | connection 81| url jdbc:h2:mem:library

;
2025-12-24T11:30:27.878+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227878 | took 0ms | statement | connection 82| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b4';
2025-12-24T11:30:27.879+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227879 | took 0ms | statement | connection 82| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b4';
2025-12-24T11:30:27.879+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227879 | took 0ms | commit | connection 82| url jdbc:h2:mem:library

;
2025-12-24T11:30:27.880+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227880 | took 0ms | statement | connection 83| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b5';
2025-12-24T11:30:27.881+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227881 | took 0ms | statement | connection 83| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b5';
2025-12-24T11:30:27.882+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227882 | took 0ms | commit | connection 83| url jdbc:h2:mem:library

;
2025-12-24T11:30:27.883+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227883 | took 0ms | statement | connection 84| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b6';
2025-12-24T11:30:27.884+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227884 | took 0ms | statement | connection 84| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b6';
2025-12-24T11:30:27.884+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572227884 | took 0ms | commit | connection 84| url jdbc:h2:mem:library

;
2025-12-24T11:30:27.894+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-24T11:30:27.894+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-24T11:30:27.894+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-12-24T11:30:27.904+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-1] p6spy                                    : #1766572227904 | took 0ms | statement | connection 85| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b3';
2025-12-24T11:30:27.904+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-1] p6spy                                    : #1766572227904 | took 0ms | commit | connection 85| url jdbc:h2:mem:library

;
2025-12-24T11:30:27.907+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-1] p6spy                                    : #1766572227907 | took 0ms | statement | connection 85| url jdbc:h2:mem:library
select count(*) from members m1_0 where m1_0.id=?
select count(*) from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:27.907+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-1] p6spy                                    : #1766572227907 | took 0ms | commit | connection 85| url jdbc:h2:mem:library

;
2025-12-24T11:30:27.908+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-1] p6spy                                    : #1766572227908 | took 0ms | commit | connection 85| url jdbc:h2:mem:library

;
2025-12-24T11:30:27.909+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-1] p6spy                                    : #1766572227909 | took 0ms | statement | connection 85| url jdbc:h2:mem:library
select count(*) from members m1_0 where m1_0.id=?
select count(*) from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:27.910+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-1] p6spy                                    : #1766572227910 | took 0ms | commit | connection 85| url jdbc:h2:mem:library

;
2025-12-24T11:30:27.911+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-1] p6spy                                    : #1766572227911 | took 0ms | statement | connection 85| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:27.912+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-1] p6spy                                    : #1766572227912 | took 0ms | commit | connection 85| url jdbc:h2:mem:library

;
2025-12-24T11:30:27.912+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-1] p6spy                                    : #1766572227912 | took 0ms | statement | connection 85| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b3';
2025-12-24T11:30:27.913+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-1] p6spy                                    : #1766572227913 | took 0ms | commit | connection 85| url jdbc:h2:mem:library

;
2025-12-24T11:30:27.917+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-1] p6spy                                    : #1766572227917 | took 0ms | statement | connection 85| url jdbc:h2:mem:library
update books set due_date=?,loaned_to=?,title=? where id=?
update books set due_date='2026-01-07T00:00:00.000+0100',loaned_to='m1',title='Refactoring' where id='b3';
2025-12-24T11:30:27.918+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-1] p6spy                                    : #1766572227918 | took 0ms | statement | connection 85| url jdbc:h2:mem:library
update members set count=?,name=? where id=?
update members set count=1,name='Kertu' where id='m1';
2025-12-24T11:30:27.918+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-1] p6spy                                    : #1766572227918 | took 0ms | commit | connection 85| url jdbc:h2:mem:library

;
2025-12-24T11:30:27.928+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-2] p6spy                                    : #1766572227928 | took 0ms | statement | connection 86| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0;
2025-12-24T11:30:27.930+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-2] p6spy                                    : #1766572227930 | took 0ms | commit | connection 86| url jdbc:h2:mem:library

;
2025-12-24T11:30:27.934+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-2] p6spy                                    : #1766572227934 | took 0ms | statement | connection 86| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b1';
2025-12-24T11:30:27.934+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-2] p6spy                                    : #1766572227934 | took 0ms | statement | connection 86| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b2';
2025-12-24T11:30:27.935+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-2] p6spy                                    : #1766572227935 | took 0ms | statement | connection 86| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b3';
2025-12-24T11:30:27.935+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-2] p6spy                                    : #1766572227935 | took 0ms | statement | connection 86| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b4';
2025-12-24T11:30:27.936+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-2] p6spy                                    : #1766572227936 | took 0ms | statement | connection 86| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b5';
2025-12-24T11:30:27.936+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-2] p6spy                                    : #1766572227936 | took 0ms | statement | connection 86| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b6';
2025-12-24T11:30:27.966+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-3] p6spy                                    : #1766572227966 | took 0ms | statement | connection 87| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b3';
2025-12-24T11:30:27.966+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-3] p6spy                                    : #1766572227966 | took 0ms | commit | connection 87| url jdbc:h2:mem:library

;
2025-12-24T11:30:27.968+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-3] p6spy                                    : #1766572227968 | took 0ms | statement | connection 87| url jdbc:h2:mem:library
update books set due_date=?,loaned_to=?,title=? where id=?
update books set due_date='2026-01-10T00:00:00.000+0100',loaned_to='m1',title='Refactoring' where id='b3';
2025-12-24T11:30:27.969+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-3] p6spy                                    : #1766572227969 | took 0ms | commit | connection 87| url jdbc:h2:mem:library

;
2025-12-24T11:30:27.973+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-4] p6spy                                    : #1766572227973 | took 0ms | statement | connection 88| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0;
2025-12-24T11:30:27.975+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-4] p6spy                                    : #1766572227975 | took 0ms | commit | connection 88| url jdbc:h2:mem:library

;
2025-12-24T11:30:27.976+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-4] p6spy                                    : #1766572227976 | took 0ms | statement | connection 88| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b1';
2025-12-24T11:30:27.976+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-4] p6spy                                    : #1766572227976 | took 0ms | statement | connection 88| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b2';
2025-12-24T11:30:27.977+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-4] p6spy                                    : #1766572227977 | took 0ms | statement | connection 88| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b3';
2025-12-24T11:30:27.978+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-4] p6spy                                    : #1766572227978 | took 0ms | statement | connection 88| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b4';
2025-12-24T11:30:27.978+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-4] p6spy                                    : #1766572227978 | took 0ms | statement | connection 88| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b5';
2025-12-24T11:30:27.979+01:00  INFO 25620 --- [library-api] [o-auto-5-exec-4] p6spy                                    : #1766572227979 | took 0ms | statement | connection 88| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b6';
2025-12-24T11:30:27.993+01:00  INFO 25620 --- [library-api] [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-24T11:30:27.994+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2025-12-24T11:30:27.994+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.



888b    888                  888             888      888      8888888888        d8888 8888888b.        .d8888b.   .d8888b.   .d8888b.   .d8888b.   
8888b   888                  888             888      888      888              d88888 888   Y88b      d88P  Y88b d88P  Y88b d88P  Y88b d88P  Y88b  
88888b  888                  888             888      888      888             d88P888 888    888             888 888    888        888 888         
888Y88b 888  .d88b.  888d888 888888  8888b.  888      888      8888888        d88P 888 888   d88P           .d88P 888    888      .d88P 888d888b.   
888 Y88b888 d88&quot;&quot;88b 888P&quot;   888        &quot;88b 888      888      888           d88P  888 8888888P&quot;        .od888P&quot;  888    888  .od888P&quot;  888P &quot;Y88b  
888  Y88888 888  888 888     888    .d888888 888      888      888          d88P   888 888             d88P&quot;      888    888 d88P&quot;      888    888  
888   Y8888 Y88..88P 888     Y88b.  888  888 888      888      888         d8888888888 888             888&quot;       Y88b  d88P 888&quot;       Y88b  d88P  
888    Y888  &quot;Y88P&quot;  888      &quot;Y888 &quot;Y888888 888      88888888 8888888888 d88P     888 888             888888888   &quot;Y8888P&quot;  888888888   &quot;Y8888P&quot;   
                                                                                                                                                    
                                                                                                                                                    
                                                                                                                                                    
 .d8888b.                888 d8b                               d8888                   d8b                                                   888    
d88P  Y88b               888 Y8P                              d88888                   Y8P                                                   888    
888    888               888                                 d88P888                                                                         888    
888         .d88b.   .d88888 888 88888b.   .d88b.           d88P 888 .d8888b  .d8888b  888  .d88b.  88888b.  88888b.d88b.   .d88b.  88888b.  888888 
888        d88&quot;&quot;88b d88&quot; 888 888 888 &quot;88b d88P&quot;88b         d88P  888 88K      88K      888 d88P&quot;88b 888 &quot;88b 888 &quot;888 &quot;88b d8P  Y8b 888 &quot;88b 888    
888    888 888  888 888  888 888 888  888 888  888        d88P   888 &quot;Y8888b. &quot;Y8888b. 888 888  888 888  888 888  888  888 88888888 888  888 888    
Y88b  d88P Y88..88P Y88b 888 888 888  888 Y88b 888       d8888888888      X88      X88 888 Y88b 888 888  888 888  888  888 Y8b.     888  888 Y88b.  
 &quot;Y8888P&quot;   &quot;Y88P&quot;   &quot;Y88888 888 888  888  &quot;Y88888      d88P     888  88888P'  88888P' 888  &quot;Y88888 888  888 888  888  888  &quot;Y8888  888  888  &quot;Y888 
                                               888                                              888                                                 
                                          Y8b d88P                                         Y8b d88P                                                 
                                           &quot;Y88P&quot;                                           &quot;Y88P&quot;                                                                                                 

H2 console: http://localhost:0/h2-console
API:        http://localhost:0/api

2025-12-24T11:30:28.040+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Starting ApiIntegrationTest using Java 23.0.1 with PID 25620 (started by ThinkpadT580 in C:\Users\ThinkpadT580\Desktop\nortal-leap-2026-test-assignment\backend\api)
2025-12-24T11:30:28.040+01:00 DEBUG 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-12-24T11:30:28.040+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : No active profile set, falling back to 1 default profile: &quot;default&quot;
2025-12-24T11:30:28.220+01:00  INFO 25620 --- [library-api] [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-24T11:30:28.226+01:00  INFO 25620 --- [library-api] [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 2 JPA repository interfaces.
2025-12-24T11:30:28.331+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-12-24T11:30:28.332+01:00  INFO 25620 --- [library-api] [    Test worker] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-24T11:30:28.332+01:00  INFO 25620 --- [library-api] [    Test worker] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-12-24T11:30:28.399+01:00  INFO 25620 --- [library-api] [    Test worker] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-24T11:30:28.399+01:00  INFO 25620 --- [library-api] [    Test worker] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 356 ms
2025-12-24T11:30:28.420+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Starting...
2025-12-24T11:30:28.421+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-6 - Added connection conn50: url=jdbc:h2:mem:library user=SA
2025-12-24T11:30:28.421+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Start completed.
2025-12-24T11:30:28.421+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:library'
2025-12-24T11:30:28.440+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228440 | took 0ms | statement | connection 90| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS members ( id VARCHAR(255) PRIMARY KEY, name VARCHAR(255) NOT NULL )
CREATE TABLE IF NOT EXISTS members ( id VARCHAR(255) PRIMARY KEY, name VARCHAR(255) NOT NULL );
2025-12-24T11:30:28.441+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228441 | took 0ms | statement | connection 90| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS books ( id VARCHAR(255) PRIMARY KEY, title VARCHAR(255) NOT NULL, loaned_to VARCHAR(255), due_date DATE )
CREATE TABLE IF NOT EXISTS books ( id VARCHAR(255) PRIMARY KEY, title VARCHAR(255) NOT NULL, loaned_to VARCHAR(255), due_date DATE );
2025-12-24T11:30:28.441+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228441 | took 0ms | statement | connection 90| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS book_reservations ( book_id VARCHAR(255) NOT NULL, position INTEGER NOT NULL, member_id VARCHAR(255), CONSTRAINT fk_book_reservation_book FOREIGN KEY (book_id) REFERENCES books (id) )
CREATE TABLE IF NOT EXISTS book_reservations ( book_id VARCHAR(255) NOT NULL, position INTEGER NOT NULL, member_id VARCHAR(255), CONSTRAINT fk_book_reservation_book FOREIGN KEY (book_id) REFERENCES books (id) );
2025-12-24T11:30:28.455+01:00  INFO 25620 --- [library-api] [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-24T11:30:28.461+01:00  INFO 25620 --- [library-api] [    Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-24T11:30:28.477+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-24T11:30:28.549+01:00  INFO 25620 --- [library-api] [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-24T11:30:28.550+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228550 | took 0ms | statement | connection 92| url jdbc:h2:mem:library
select * from INFORMATION_SCHEMA.SEQUENCES
select * from INFORMATION_SCHEMA.SEQUENCES;
2025-12-24T11:30:28.551+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228551 | took 0ms | statement | connection 92| url jdbc:h2:mem:library
select * from &quot;LIBRARY&quot;.&quot;PUBLIC&quot;.&quot;BOOKS&quot; where 1=0
select * from &quot;LIBRARY&quot;.&quot;PUBLIC&quot;.&quot;BOOKS&quot; where 1=0;
2025-12-24T11:30:28.551+01:00  INFO 25620 --- [library-api] [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-24T11:30:28.732+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 61506 (http) with context path '/'
2025-12-24T11:30:28.735+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Started ApiIntegrationTest in 0.733 seconds (process running for 17.84)
2025-12-24T11:30:28.739+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228739 | took 0ms | statement | connection 93| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:28.741+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228741 | took 0ms | statement | connection 93| url jdbc:h2:mem:library
update members set count=?,name=? where id=?
update members set count=0,name='Kertu' where id='m1';
2025-12-24T11:30:28.742+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228742 | took 0ms | commit | connection 93| url jdbc:h2:mem:library

;
2025-12-24T11:30:28.743+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228743 | took 0ms | statement | connection 94| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m2';
2025-12-24T11:30:28.744+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228744 | took 0ms | commit | connection 94| url jdbc:h2:mem:library

;
2025-12-24T11:30:28.745+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228745 | took 0ms | statement | connection 95| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m3';
2025-12-24T11:30:28.746+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228746 | took 0ms | commit | connection 95| url jdbc:h2:mem:library

;
2025-12-24T11:30:28.747+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228747 | took 0ms | statement | connection 96| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m4';
2025-12-24T11:30:28.748+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228748 | took 0ms | commit | connection 96| url jdbc:h2:mem:library

;
2025-12-24T11:30:28.751+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228751 | took 0ms | statement | connection 97| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b1';
2025-12-24T11:30:28.752+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228752 | took 0ms | statement | connection 97| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b1';
2025-12-24T11:30:28.752+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228752 | took 0ms | commit | connection 97| url jdbc:h2:mem:library

;
2025-12-24T11:30:28.753+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228753 | took 0ms | statement | connection 98| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b2';
2025-12-24T11:30:28.754+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228754 | took 0ms | statement | connection 98| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b2';
2025-12-24T11:30:28.755+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228755 | took 0ms | commit | connection 98| url jdbc:h2:mem:library

;
2025-12-24T11:30:28.756+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228756 | took 0ms | statement | connection 99| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b3';
2025-12-24T11:30:28.757+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228757 | took 0ms | statement | connection 99| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b3';
2025-12-24T11:30:28.758+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228758 | took 0ms | statement | connection 99| url jdbc:h2:mem:library
update books set due_date=?,loaned_to=?,title=? where id=?
update books set due_date=NULL,loaned_to=NULL,title='Refactoring' where id='b3';
2025-12-24T11:30:28.759+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228759 | took 0ms | commit | connection 99| url jdbc:h2:mem:library

;
2025-12-24T11:30:28.760+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228760 | took 0ms | statement | connection 100| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b4';
2025-12-24T11:30:28.761+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228761 | took 0ms | statement | connection 100| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b4';
2025-12-24T11:30:28.762+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228762 | took 0ms | commit | connection 100| url jdbc:h2:mem:library

;
2025-12-24T11:30:28.763+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228763 | took 0ms | statement | connection 101| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b5';
2025-12-24T11:30:28.764+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228764 | took 0ms | statement | connection 101| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b5';
2025-12-24T11:30:28.764+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228764 | took 0ms | commit | connection 101| url jdbc:h2:mem:library

;
2025-12-24T11:30:28.765+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228765 | took 0ms | statement | connection 102| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b6';
2025-12-24T11:30:28.767+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228767 | took 0ms | statement | connection 102| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b6';
2025-12-24T11:30:28.768+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572228768 | took 0ms | commit | connection 102| url jdbc:h2:mem:library

;
2025-12-24T11:30:28.774+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-24T11:30:28.775+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-24T11:30:28.775+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-12-24T11:30:28.786+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-1] p6spy                                    : #1766572228786 | took 0ms | statement | connection 103| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b2';
2025-12-24T11:30:28.787+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-1] p6spy                                    : #1766572228787 | took 0ms | commit | connection 103| url jdbc:h2:mem:library

;
2025-12-24T11:30:28.790+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-1] p6spy                                    : #1766572228790 | took 0ms | statement | connection 103| url jdbc:h2:mem:library
select count(*) from members m1_0 where m1_0.id=?
select count(*) from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:28.790+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-1] p6spy                                    : #1766572228790 | took 0ms | commit | connection 103| url jdbc:h2:mem:library

;
2025-12-24T11:30:28.791+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-1] p6spy                                    : #1766572228791 | took 0ms | commit | connection 103| url jdbc:h2:mem:library

;
2025-12-24T11:30:28.792+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-1] p6spy                                    : #1766572228792 | took 0ms | statement | connection 103| url jdbc:h2:mem:library
select count(*) from members m1_0 where m1_0.id=?
select count(*) from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:28.792+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-1] p6spy                                    : #1766572228792 | took 0ms | commit | connection 103| url jdbc:h2:mem:library

;
2025-12-24T11:30:28.794+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-1] p6spy                                    : #1766572228794 | took 0ms | statement | connection 103| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:28.794+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-1] p6spy                                    : #1766572228794 | took 0ms | commit | connection 103| url jdbc:h2:mem:library

;
2025-12-24T11:30:28.795+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-1] p6spy                                    : #1766572228795 | took 0ms | statement | connection 103| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b2';
2025-12-24T11:30:28.796+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-1] p6spy                                    : #1766572228796 | took 0ms | commit | connection 103| url jdbc:h2:mem:library

;
2025-12-24T11:30:28.798+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-1] p6spy                                    : #1766572228798 | took 0ms | statement | connection 103| url jdbc:h2:mem:library
update books set due_date=?,loaned_to=?,title=? where id=?
update books set due_date='2026-01-07T00:00:00.000+0100',loaned_to='m1',title='Domain-Driven Design' where id='b2';
2025-12-24T11:30:28.799+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-1] p6spy                                    : #1766572228799 | took 0ms | statement | connection 103| url jdbc:h2:mem:library
update members set count=?,name=? where id=?
update members set count=1,name='Kertu' where id='m1';
2025-12-24T11:30:28.800+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-1] p6spy                                    : #1766572228800 | took 0ms | commit | connection 103| url jdbc:h2:mem:library

;
2025-12-24T11:30:28.817+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-2] p6spy                                    : #1766572228817 | took 0ms | statement | connection 104| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b2';
2025-12-24T11:30:28.818+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-2] p6spy                                    : #1766572228818 | took 0ms | commit | connection 104| url jdbc:h2:mem:library

;
2025-12-24T11:30:28.819+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-2] p6spy                                    : #1766572228819 | took 0ms | statement | connection 104| url jdbc:h2:mem:library
select count(*) from members m1_0 where m1_0.id=?
select count(*) from members m1_0 where m1_0.id='m2';
2025-12-24T11:30:28.819+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-2] p6spy                                    : #1766572228819 | took 0ms | commit | connection 104| url jdbc:h2:mem:library

;
2025-12-24T11:30:28.820+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-2] p6spy                                    : #1766572228820 | took 0ms | statement | connection 104| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b2';
2025-12-24T11:30:28.821+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-2] p6spy                                    : #1766572228821 | took 0ms | commit | connection 104| url jdbc:h2:mem:library

;
2025-12-24T11:30:28.821+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-2] p6spy                                    : #1766572228821 | took 0ms | statement | connection 104| url jdbc:h2:mem:library
select count(*) from members m1_0 where m1_0.id=?
select count(*) from members m1_0 where m1_0.id='m2';
2025-12-24T11:30:28.822+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-2] p6spy                                    : #1766572228822 | took 0ms | commit | connection 104| url jdbc:h2:mem:library

;
2025-12-24T11:30:28.822+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-2] p6spy                                    : #1766572228822 | took 0ms | commit | connection 104| url jdbc:h2:mem:library

;
2025-12-24T11:30:28.829+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-2] p6spy                                    : #1766572228829 | took 0ms | statement | connection 104| url jdbc:h2:mem:library
insert into book_reservations (book_id,position,member_id) values (?,?,?)
insert into book_reservations (book_id,position,member_id) values ('b2',0,'m2');
2025-12-24T11:30:28.831+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-2] p6spy                                    : #1766572228831 | took 0ms | commit | connection 104| url jdbc:h2:mem:library

;
2025-12-24T11:30:28.848+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-3] p6spy                                    : #1766572228848 | took 0ms | statement | connection 105| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b2';
2025-12-24T11:30:28.849+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-3] p6spy                                    : #1766572228849 | took 0ms | commit | connection 105| url jdbc:h2:mem:library

;
2025-12-24T11:30:28.850+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-3] p6spy                                    : #1766572228850 | took 0ms | statement | connection 105| url jdbc:h2:mem:library
select count(*) from members m1_0 where m1_0.id=?
select count(*) from members m1_0 where m1_0.id='m2';
2025-12-24T11:30:28.850+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-3] p6spy                                    : #1766572228850 | took 0ms | commit | connection 105| url jdbc:h2:mem:library

;
2025-12-24T11:30:28.850+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-3] p6spy                                    : #1766572228850 | took 0ms | statement | connection 105| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b2';
2025-12-24T11:30:28.854+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-3] p6spy                                    : #1766572228854 | took 0ms | statement | connection 105| url jdbc:h2:mem:library
delete from book_reservations where book_id=?
delete from book_reservations where book_id='b2';
2025-12-24T11:30:28.854+01:00  INFO 25620 --- [library-api] [o-auto-6-exec-3] p6spy                                    : #1766572228854 | took 0ms | commit | connection 105| url jdbc:h2:mem:library

;
2025-12-24T11:30:28.869+01:00  INFO 25620 --- [library-api] [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-24T11:30:28.869+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown initiated...
2025-12-24T11:30:28.870+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown completed.



888b    888                  888             888      888      8888888888        d8888 8888888b.        .d8888b.   .d8888b.   .d8888b.   .d8888b.   
8888b   888                  888             888      888      888              d88888 888   Y88b      d88P  Y88b d88P  Y88b d88P  Y88b d88P  Y88b  
88888b  888                  888             888      888      888             d88P888 888    888             888 888    888        888 888         
888Y88b 888  .d88b.  888d888 888888  8888b.  888      888      8888888        d88P 888 888   d88P           .d88P 888    888      .d88P 888d888b.   
888 Y88b888 d88&quot;&quot;88b 888P&quot;   888        &quot;88b 888      888      888           d88P  888 8888888P&quot;        .od888P&quot;  888    888  .od888P&quot;  888P &quot;Y88b  
888  Y88888 888  888 888     888    .d888888 888      888      888          d88P   888 888             d88P&quot;      888    888 d88P&quot;      888    888  
888   Y8888 Y88..88P 888     Y88b.  888  888 888      888      888         d8888888888 888             888&quot;       Y88b  d88P 888&quot;       Y88b  d88P  
888    Y888  &quot;Y88P&quot;  888      &quot;Y888 &quot;Y888888 888      88888888 8888888888 d88P     888 888             888888888   &quot;Y8888P&quot;  888888888   &quot;Y8888P&quot;   
                                                                                                                                                    
                                                                                                                                                    
                                                                                                                                                    
 .d8888b.                888 d8b                               d8888                   d8b                                                   888    
d88P  Y88b               888 Y8P                              d88888                   Y8P                                                   888    
888    888               888                                 d88P888                                                                         888    
888         .d88b.   .d88888 888 88888b.   .d88b.           d88P 888 .d8888b  .d8888b  888  .d88b.  88888b.  88888b.d88b.   .d88b.  88888b.  888888 
888        d88&quot;&quot;88b d88&quot; 888 888 888 &quot;88b d88P&quot;88b         d88P  888 88K      88K      888 d88P&quot;88b 888 &quot;88b 888 &quot;888 &quot;88b d8P  Y8b 888 &quot;88b 888    
888    888 888  888 888  888 888 888  888 888  888        d88P   888 &quot;Y8888b. &quot;Y8888b. 888 888  888 888  888 888  888  888 88888888 888  888 888    
Y88b  d88P Y88..88P Y88b 888 888 888  888 Y88b 888       d8888888888      X88      X88 888 Y88b 888 888  888 888  888  888 Y8b.     888  888 Y88b.  
 &quot;Y8888P&quot;   &quot;Y88P&quot;   &quot;Y88888 888 888  888  &quot;Y88888      d88P     888  88888P'  88888P' 888  &quot;Y88888 888  888 888  888  888  &quot;Y8888  888  888  &quot;Y888 
                                               888                                              888                                                 
                                          Y8b d88P                                         Y8b d88P                                                 
                                           &quot;Y88P&quot;                                           &quot;Y88P&quot;                                                                                                 

H2 console: http://localhost:0/h2-console
API:        http://localhost:0/api

2025-12-24T11:30:28.910+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Starting ApiIntegrationTest using Java 23.0.1 with PID 25620 (started by ThinkpadT580 in C:\Users\ThinkpadT580\Desktop\nortal-leap-2026-test-assignment\backend\api)
2025-12-24T11:30:28.911+01:00 DEBUG 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-12-24T11:30:28.911+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : No active profile set, falling back to 1 default profile: &quot;default&quot;
2025-12-24T11:30:29.065+01:00  INFO 25620 --- [library-api] [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-24T11:30:29.070+01:00  INFO 25620 --- [library-api] [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 2 JPA repository interfaces.
2025-12-24T11:30:29.158+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-12-24T11:30:29.158+01:00  INFO 25620 --- [library-api] [    Test worker] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-24T11:30:29.159+01:00  INFO 25620 --- [library-api] [    Test worker] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-12-24T11:30:29.235+01:00  INFO 25620 --- [library-api] [    Test worker] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-24T11:30:29.235+01:00  INFO 25620 --- [library-api] [    Test worker] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 322 ms
2025-12-24T11:30:29.250+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Starting...
2025-12-24T11:30:29.252+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-7 - Added connection conn60: url=jdbc:h2:mem:library user=SA
2025-12-24T11:30:29.252+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Start completed.
2025-12-24T11:30:29.252+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:library'
2025-12-24T11:30:29.265+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229265 | took 0ms | statement | connection 107| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS members ( id VARCHAR(255) PRIMARY KEY, name VARCHAR(255) NOT NULL )
CREATE TABLE IF NOT EXISTS members ( id VARCHAR(255) PRIMARY KEY, name VARCHAR(255) NOT NULL );
2025-12-24T11:30:29.265+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229265 | took 0ms | statement | connection 107| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS books ( id VARCHAR(255) PRIMARY KEY, title VARCHAR(255) NOT NULL, loaned_to VARCHAR(255), due_date DATE )
CREATE TABLE IF NOT EXISTS books ( id VARCHAR(255) PRIMARY KEY, title VARCHAR(255) NOT NULL, loaned_to VARCHAR(255), due_date DATE );
2025-12-24T11:30:29.266+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229266 | took 0ms | statement | connection 107| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS book_reservations ( book_id VARCHAR(255) NOT NULL, position INTEGER NOT NULL, member_id VARCHAR(255), CONSTRAINT fk_book_reservation_book FOREIGN KEY (book_id) REFERENCES books (id) )
CREATE TABLE IF NOT EXISTS book_reservations ( book_id VARCHAR(255) NOT NULL, position INTEGER NOT NULL, member_id VARCHAR(255), CONSTRAINT fk_book_reservation_book FOREIGN KEY (book_id) REFERENCES books (id) );
2025-12-24T11:30:29.277+01:00  INFO 25620 --- [library-api] [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-24T11:30:29.283+01:00  INFO 25620 --- [library-api] [    Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-24T11:30:29.295+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-24T11:30:29.362+01:00  INFO 25620 --- [library-api] [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-24T11:30:29.363+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229363 | took 0ms | statement | connection 109| url jdbc:h2:mem:library
select * from INFORMATION_SCHEMA.SEQUENCES
select * from INFORMATION_SCHEMA.SEQUENCES;
2025-12-24T11:30:29.364+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229364 | took 0ms | statement | connection 109| url jdbc:h2:mem:library
select * from &quot;LIBRARY&quot;.&quot;PUBLIC&quot;.&quot;BOOKS&quot; where 1=0
select * from &quot;LIBRARY&quot;.&quot;PUBLIC&quot;.&quot;BOOKS&quot; where 1=0;
2025-12-24T11:30:29.364+01:00  INFO 25620 --- [library-api] [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-24T11:30:29.523+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 61509 (http) with context path '/'
2025-12-24T11:30:29.525+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Started ApiIntegrationTest in 0.648 seconds (process running for 18.63)
2025-12-24T11:30:29.527+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229527 | took 0ms | statement | connection 110| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:29.530+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229530 | took 0ms | statement | connection 110| url jdbc:h2:mem:library
update members set count=?,name=? where id=?
update members set count=0,name='Kertu' where id='m1';
2025-12-24T11:30:29.531+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229531 | took 0ms | commit | connection 110| url jdbc:h2:mem:library

;
2025-12-24T11:30:29.532+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229532 | took 0ms | statement | connection 111| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m2';
2025-12-24T11:30:29.533+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229533 | took 0ms | commit | connection 111| url jdbc:h2:mem:library

;
2025-12-24T11:30:29.534+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229534 | took 0ms | statement | connection 112| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m3';
2025-12-24T11:30:29.534+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229534 | took 0ms | commit | connection 112| url jdbc:h2:mem:library

;
2025-12-24T11:30:29.535+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229535 | took 0ms | statement | connection 113| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m4';
2025-12-24T11:30:29.536+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229536 | took 0ms | commit | connection 113| url jdbc:h2:mem:library

;
2025-12-24T11:30:29.538+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229538 | took 0ms | statement | connection 114| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b1';
2025-12-24T11:30:29.539+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229539 | took 0ms | statement | connection 114| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b1';
2025-12-24T11:30:29.540+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229540 | took 0ms | commit | connection 114| url jdbc:h2:mem:library

;
2025-12-24T11:30:29.541+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229541 | took 0ms | statement | connection 115| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b2';
2025-12-24T11:30:29.542+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229542 | took 0ms | statement | connection 115| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b2';
2025-12-24T11:30:29.543+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229543 | took 0ms | statement | connection 115| url jdbc:h2:mem:library
update books set due_date=?,loaned_to=?,title=? where id=?
update books set due_date=NULL,loaned_to=NULL,title='Domain-Driven Design' where id='b2';
2025-12-24T11:30:29.543+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229543 | took 0ms | commit | connection 115| url jdbc:h2:mem:library

;
2025-12-24T11:30:29.544+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229544 | took 0ms | statement | connection 116| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b3';
2025-12-24T11:30:29.545+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229545 | took 0ms | statement | connection 116| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b3';
2025-12-24T11:30:29.545+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229545 | took 0ms | commit | connection 116| url jdbc:h2:mem:library

;
2025-12-24T11:30:29.546+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229546 | took 0ms | statement | connection 117| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b4';
2025-12-24T11:30:29.547+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229547 | took 0ms | statement | connection 117| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b4';
2025-12-24T11:30:29.548+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229548 | took 0ms | commit | connection 117| url jdbc:h2:mem:library

;
2025-12-24T11:30:29.549+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229549 | took 0ms | statement | connection 118| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b5';
2025-12-24T11:30:29.549+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229549 | took 0ms | statement | connection 118| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b5';
2025-12-24T11:30:29.550+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229550 | took 0ms | commit | connection 118| url jdbc:h2:mem:library

;
2025-12-24T11:30:29.551+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229551 | took 0ms | statement | connection 119| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b6';
2025-12-24T11:30:29.551+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229551 | took 0ms | statement | connection 119| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b6';
2025-12-24T11:30:29.552+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572229552 | took 0ms | commit | connection 119| url jdbc:h2:mem:library

;
2025-12-24T11:30:29.558+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-24T11:30:29.558+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-24T11:30:29.558+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-12-24T11:30:29.567+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-1] p6spy                                    : #1766572229567 | took 0ms | statement | connection 120| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='vb-search';
2025-12-24T11:30:29.568+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-1] p6spy                                    : #1766572229568 | took 0ms | statement | connection 120| url jdbc:h2:mem:library
insert into books (due_date,loaned_to,title,id) values (?,?,?,?)
insert into books (due_date,loaned_to,title,id) values (NULL,NULL,'Algorithms 101','vb-search');
2025-12-24T11:30:29.568+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-1] p6spy                                    : #1766572229568 | took 0ms | commit | connection 120| url jdbc:h2:mem:library

;
2025-12-24T11:30:29.590+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-2] p6spy                                    : #1766572229590 | took 0ms | statement | connection 121| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0;
2025-12-24T11:30:29.591+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-2] p6spy                                    : #1766572229591 | took 0ms | commit | connection 121| url jdbc:h2:mem:library

;
2025-12-24T11:30:29.596+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-2] p6spy                                    : #1766572229596 | took 0ms | statement | connection 121| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='vb-search';
2025-12-24T11:30:29.611+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-3] p6spy                                    : #1766572229611 | took 0ms | statement | connection 122| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='vb-search';
2025-12-24T11:30:29.611+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-3] p6spy                                    : #1766572229611 | took 0ms | commit | connection 122| url jdbc:h2:mem:library

;
2025-12-24T11:30:29.614+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-3] p6spy                                    : #1766572229614 | took 0ms | statement | connection 122| url jdbc:h2:mem:library
select count(*) from members m1_0 where m1_0.id=?
select count(*) from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:29.614+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-3] p6spy                                    : #1766572229614 | took 0ms | commit | connection 122| url jdbc:h2:mem:library

;
2025-12-24T11:30:29.615+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-3] p6spy                                    : #1766572229615 | took 0ms | commit | connection 122| url jdbc:h2:mem:library

;
2025-12-24T11:30:29.616+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-3] p6spy                                    : #1766572229616 | took 0ms | statement | connection 122| url jdbc:h2:mem:library
select count(*) from members m1_0 where m1_0.id=?
select count(*) from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:29.616+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-3] p6spy                                    : #1766572229616 | took 0ms | commit | connection 122| url jdbc:h2:mem:library

;
2025-12-24T11:30:29.617+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-3] p6spy                                    : #1766572229617 | took 0ms | statement | connection 122| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:29.618+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-3] p6spy                                    : #1766572229618 | took 0ms | commit | connection 122| url jdbc:h2:mem:library

;
2025-12-24T11:30:29.618+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-3] p6spy                                    : #1766572229618 | took 0ms | statement | connection 122| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='vb-search';
2025-12-24T11:30:29.619+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-3] p6spy                                    : #1766572229619 | took 0ms | commit | connection 122| url jdbc:h2:mem:library

;
2025-12-24T11:30:29.620+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-3] p6spy                                    : #1766572229620 | took 0ms | statement | connection 122| url jdbc:h2:mem:library
update books set due_date=?,loaned_to=?,title=? where id=?
update books set due_date='2026-01-07T00:00:00.000+0100',loaned_to='m1',title='Algorithms 101' where id='vb-search';
2025-12-24T11:30:29.621+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-3] p6spy                                    : #1766572229621 | took 0ms | statement | connection 122| url jdbc:h2:mem:library
update members set count=?,name=? where id=?
update members set count=1,name='Kertu' where id='m1';
2025-12-24T11:30:29.622+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-3] p6spy                                    : #1766572229622 | took 0ms | commit | connection 122| url jdbc:h2:mem:library

;
2025-12-24T11:30:29.626+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-5] p6spy                                    : #1766572229626 | took 0ms | statement | connection 123| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0;
2025-12-24T11:30:29.627+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-5] p6spy                                    : #1766572229627 | took 0ms | commit | connection 123| url jdbc:h2:mem:library

;
2025-12-24T11:30:29.628+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-5] p6spy                                    : #1766572229628 | took 0ms | statement | connection 123| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b1';
2025-12-24T11:30:29.629+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-5] p6spy                                    : #1766572229629 | took 0ms | statement | connection 123| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b2';
2025-12-24T11:30:29.629+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-5] p6spy                                    : #1766572229629 | took 0ms | statement | connection 123| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b3';
2025-12-24T11:30:29.630+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-5] p6spy                                    : #1766572229630 | took 0ms | statement | connection 123| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b4';
2025-12-24T11:30:29.630+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-5] p6spy                                    : #1766572229630 | took 0ms | statement | connection 123| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b5';
2025-12-24T11:30:29.631+01:00  INFO 25620 --- [library-api] [o-auto-7-exec-5] p6spy                                    : #1766572229631 | took 0ms | statement | connection 123| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b6';
2025-12-24T11:30:29.646+01:00  INFO 25620 --- [library-api] [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-24T11:30:29.646+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown initiated...
2025-12-24T11:30:29.667+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown completed.



888b    888                  888             888      888      8888888888        d8888 8888888b.        .d8888b.   .d8888b.   .d8888b.   .d8888b.   
8888b   888                  888             888      888      888              d88888 888   Y88b      d88P  Y88b d88P  Y88b d88P  Y88b d88P  Y88b  
88888b  888                  888             888      888      888             d88P888 888    888             888 888    888        888 888         
888Y88b 888  .d88b.  888d888 888888  8888b.  888      888      8888888        d88P 888 888   d88P           .d88P 888    888      .d88P 888d888b.   
888 Y88b888 d88&quot;&quot;88b 888P&quot;   888        &quot;88b 888      888      888           d88P  888 8888888P&quot;        .od888P&quot;  888    888  .od888P&quot;  888P &quot;Y88b  
888  Y88888 888  888 888     888    .d888888 888      888      888          d88P   888 888             d88P&quot;      888    888 d88P&quot;      888    888  
888   Y8888 Y88..88P 888     Y88b.  888  888 888      888      888         d8888888888 888             888&quot;       Y88b  d88P 888&quot;       Y88b  d88P  
888    Y888  &quot;Y88P&quot;  888      &quot;Y888 &quot;Y888888 888      88888888 8888888888 d88P     888 888             888888888   &quot;Y8888P&quot;  888888888   &quot;Y8888P&quot;   
                                                                                                                                                    
                                                                                                                                                    
                                                                                                                                                    
 .d8888b.                888 d8b                               d8888                   d8b                                                   888    
d88P  Y88b               888 Y8P                              d88888                   Y8P                                                   888    
888    888               888                                 d88P888                                                                         888    
888         .d88b.   .d88888 888 88888b.   .d88b.           d88P 888 .d8888b  .d8888b  888  .d88b.  88888b.  88888b.d88b.   .d88b.  88888b.  888888 
888        d88&quot;&quot;88b d88&quot; 888 888 888 &quot;88b d88P&quot;88b         d88P  888 88K      88K      888 d88P&quot;88b 888 &quot;88b 888 &quot;888 &quot;88b d8P  Y8b 888 &quot;88b 888    
888    888 888  888 888  888 888 888  888 888  888        d88P   888 &quot;Y8888b. &quot;Y8888b. 888 888  888 888  888 888  888  888 88888888 888  888 888    
Y88b  d88P Y88..88P Y88b 888 888 888  888 Y88b 888       d8888888888      X88      X88 888 Y88b 888 888  888 888  888  888 Y8b.     888  888 Y88b.  
 &quot;Y8888P&quot;   &quot;Y88P&quot;   &quot;Y88888 888 888  888  &quot;Y88888      d88P     888  88888P'  88888P' 888  &quot;Y88888 888  888 888  888  888  &quot;Y8888  888  888  &quot;Y888 
                                               888                                              888                                                 
                                          Y8b d88P                                         Y8b d88P                                                 
                                           &quot;Y88P&quot;                                           &quot;Y88P&quot;                                                                                                 

H2 console: http://localhost:0/h2-console
API:        http://localhost:0/api

2025-12-24T11:30:29.748+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Starting ApiIntegrationTest using Java 23.0.1 with PID 25620 (started by ThinkpadT580 in C:\Users\ThinkpadT580\Desktop\nortal-leap-2026-test-assignment\backend\api)
2025-12-24T11:30:29.748+01:00 DEBUG 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-12-24T11:30:29.748+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : No active profile set, falling back to 1 default profile: &quot;default&quot;
2025-12-24T11:30:29.920+01:00  INFO 25620 --- [library-api] [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-24T11:30:29.927+01:00  INFO 25620 --- [library-api] [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 2 JPA repository interfaces.
2025-12-24T11:30:30.025+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-12-24T11:30:30.026+01:00  INFO 25620 --- [library-api] [    Test worker] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-24T11:30:30.026+01:00  INFO 25620 --- [library-api] [    Test worker] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-12-24T11:30:30.086+01:00  INFO 25620 --- [library-api] [    Test worker] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-24T11:30:30.086+01:00  INFO 25620 --- [library-api] [    Test worker] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 336 ms
2025-12-24T11:30:30.099+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Starting...
2025-12-24T11:30:30.100+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-8 - Added connection conn69: url=jdbc:h2:mem:library user=SA
2025-12-24T11:30:30.100+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Start completed.
2025-12-24T11:30:30.100+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:library'
2025-12-24T11:30:30.114+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230114 | took 0ms | statement | connection 125| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS members ( id VARCHAR(255) PRIMARY KEY, name VARCHAR(255) NOT NULL )
CREATE TABLE IF NOT EXISTS members ( id VARCHAR(255) PRIMARY KEY, name VARCHAR(255) NOT NULL );
2025-12-24T11:30:30.115+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230115 | took 0ms | statement | connection 125| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS books ( id VARCHAR(255) PRIMARY KEY, title VARCHAR(255) NOT NULL, loaned_to VARCHAR(255), due_date DATE )
CREATE TABLE IF NOT EXISTS books ( id VARCHAR(255) PRIMARY KEY, title VARCHAR(255) NOT NULL, loaned_to VARCHAR(255), due_date DATE );
2025-12-24T11:30:30.115+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230115 | took 0ms | statement | connection 125| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS book_reservations ( book_id VARCHAR(255) NOT NULL, position INTEGER NOT NULL, member_id VARCHAR(255), CONSTRAINT fk_book_reservation_book FOREIGN KEY (book_id) REFERENCES books (id) )
CREATE TABLE IF NOT EXISTS book_reservations ( book_id VARCHAR(255) NOT NULL, position INTEGER NOT NULL, member_id VARCHAR(255), CONSTRAINT fk_book_reservation_book FOREIGN KEY (book_id) REFERENCES books (id) );
2025-12-24T11:30:30.125+01:00  INFO 25620 --- [library-api] [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-24T11:30:30.130+01:00  INFO 25620 --- [library-api] [    Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-24T11:30:30.142+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-24T11:30:30.203+01:00  INFO 25620 --- [library-api] [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-24T11:30:30.204+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230204 | took 0ms | statement | connection 127| url jdbc:h2:mem:library
select * from INFORMATION_SCHEMA.SEQUENCES
select * from INFORMATION_SCHEMA.SEQUENCES;
2025-12-24T11:30:30.205+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230205 | took 0ms | statement | connection 127| url jdbc:h2:mem:library
select * from &quot;LIBRARY&quot;.&quot;PUBLIC&quot;.&quot;BOOKS&quot; where 1=0
select * from &quot;LIBRARY&quot;.&quot;PUBLIC&quot;.&quot;BOOKS&quot; where 1=0;
2025-12-24T11:30:30.205+01:00  INFO 25620 --- [library-api] [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-24T11:30:30.362+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 61512 (http) with context path '/'
2025-12-24T11:30:30.364+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Started ApiIntegrationTest in 0.673 seconds (process running for 19.469)
2025-12-24T11:30:30.366+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230366 | took 0ms | statement | connection 128| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:30.368+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230368 | took 0ms | statement | connection 128| url jdbc:h2:mem:library
update members set count=?,name=? where id=?
update members set count=0,name='Kertu' where id='m1';
2025-12-24T11:30:30.368+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230368 | took 0ms | commit | connection 128| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.369+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230369 | took 0ms | statement | connection 129| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m2';
2025-12-24T11:30:30.370+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230370 | took 0ms | commit | connection 129| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.371+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230371 | took 0ms | statement | connection 130| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m3';
2025-12-24T11:30:30.371+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230371 | took 0ms | commit | connection 130| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.372+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230372 | took 0ms | statement | connection 131| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m4';
2025-12-24T11:30:30.372+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230372 | took 0ms | commit | connection 131| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.374+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230374 | took 0ms | statement | connection 132| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b1';
2025-12-24T11:30:30.375+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230375 | took 0ms | statement | connection 132| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b1';
2025-12-24T11:30:30.376+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230376 | took 0ms | commit | connection 132| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.377+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230377 | took 0ms | statement | connection 133| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b2';
2025-12-24T11:30:30.377+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230377 | took 0ms | statement | connection 133| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b2';
2025-12-24T11:30:30.377+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230377 | took 0ms | commit | connection 133| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.379+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230379 | took 0ms | statement | connection 134| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b3';
2025-12-24T11:30:30.380+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230380 | took 0ms | statement | connection 134| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b3';
2025-12-24T11:30:30.380+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230380 | took 0ms | commit | connection 134| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.381+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230381 | took 0ms | statement | connection 135| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b4';
2025-12-24T11:30:30.381+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230381 | took 0ms | statement | connection 135| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b4';
2025-12-24T11:30:30.382+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230382 | took 0ms | commit | connection 135| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.383+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230383 | took 0ms | statement | connection 136| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b5';
2025-12-24T11:30:30.383+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230383 | took 0ms | statement | connection 136| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b5';
2025-12-24T11:30:30.384+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230384 | took 0ms | commit | connection 136| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.385+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230384 | took 0ms | statement | connection 137| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b6';
2025-12-24T11:30:30.385+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230385 | took 0ms | statement | connection 137| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b6';
2025-12-24T11:30:30.385+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230385 | took 0ms | commit | connection 137| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.391+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-24T11:30:30.391+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-24T11:30:30.392+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-12-24T11:30:30.400+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-1] p6spy                                    : #1766572230400 | took 0ms | statement | connection 138| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b4';
2025-12-24T11:30:30.401+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-1] p6spy                                    : #1766572230401 | took 0ms | commit | connection 138| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.403+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-1] p6spy                                    : #1766572230403 | took 0ms | statement | connection 138| url jdbc:h2:mem:library
select count(*) from members m1_0 where m1_0.id=?
select count(*) from members m1_0 where m1_0.id='m2';
2025-12-24T11:30:30.403+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-1] p6spy                                    : #1766572230403 | took 0ms | commit | connection 138| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.404+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-1] p6spy                                    : #1766572230404 | took 0ms | commit | connection 138| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.405+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-1] p6spy                                    : #1766572230405 | took 0ms | statement | connection 138| url jdbc:h2:mem:library
select count(*) from members m1_0 where m1_0.id=?
select count(*) from members m1_0 where m1_0.id='m2';
2025-12-24T11:30:30.405+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-1] p6spy                                    : #1766572230405 | took 0ms | commit | connection 138| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.406+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-1] p6spy                                    : #1766572230406 | took 0ms | statement | connection 138| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m2';
2025-12-24T11:30:30.407+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-1] p6spy                                    : #1766572230407 | took 0ms | commit | connection 138| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.407+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-1] p6spy                                    : #1766572230407 | took 0ms | statement | connection 138| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b4';
2025-12-24T11:30:30.408+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-1] p6spy                                    : #1766572230408 | took 0ms | commit | connection 138| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.410+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-1] p6spy                                    : #1766572230410 | took 0ms | statement | connection 138| url jdbc:h2:mem:library
update books set due_date=?,loaned_to=?,title=? where id=?
update books set due_date='2026-01-07T00:00:00.000+0100',loaned_to='m2',title='Effective Java' where id='b4';
2025-12-24T11:30:30.411+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-1] p6spy                                    : #1766572230411 | took 0ms | statement | connection 138| url jdbc:h2:mem:library
update members set count=?,name=? where id=?
update members set count=1,name='Rasmus' where id='m2';
2025-12-24T11:30:30.411+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-1] p6spy                                    : #1766572230411 | took 0ms | commit | connection 138| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.423+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-2] p6spy                                    : #1766572230423 | took 0ms | statement | connection 139| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b5';
2025-12-24T11:30:30.423+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-2] p6spy                                    : #1766572230423 | took 0ms | commit | connection 139| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.424+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-2] p6spy                                    : #1766572230424 | took 0ms | statement | connection 139| url jdbc:h2:mem:library
select count(*) from members m1_0 where m1_0.id=?
select count(*) from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:30.424+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-2] p6spy                                    : #1766572230424 | took 0ms | commit | connection 139| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.425+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-2] p6spy                                    : #1766572230425 | took 0ms | commit | connection 139| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.425+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-2] p6spy                                    : #1766572230425 | took 0ms | statement | connection 139| url jdbc:h2:mem:library
select count(*) from members m1_0 where m1_0.id=?
select count(*) from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:30.426+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-2] p6spy                                    : #1766572230426 | took 0ms | commit | connection 139| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.426+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-2] p6spy                                    : #1766572230426 | took 0ms | statement | connection 139| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:30.427+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-2] p6spy                                    : #1766572230427 | took 0ms | commit | connection 139| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.427+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-2] p6spy                                    : #1766572230427 | took 0ms | statement | connection 139| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b5';
2025-12-24T11:30:30.428+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-2] p6spy                                    : #1766572230428 | took 0ms | commit | connection 139| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.429+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-2] p6spy                                    : #1766572230429 | took 0ms | statement | connection 139| url jdbc:h2:mem:library
update books set due_date=?,loaned_to=?,title=? where id=?
update books set due_date='2026-01-07T00:00:00.000+0100',loaned_to='m1',title='Design Patterns' where id='b5';
2025-12-24T11:30:30.429+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-2] p6spy                                    : #1766572230429 | took 0ms | statement | connection 139| url jdbc:h2:mem:library
update members set count=?,name=? where id=?
update members set count=1,name='Kertu' where id='m1';
2025-12-24T11:30:30.429+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-2] p6spy                                    : #1766572230429 | took 0ms | commit | connection 139| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.440+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-3] p6spy                                    : #1766572230440 | took 0ms | statement | connection 140| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b5';
2025-12-24T11:30:30.441+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-3] p6spy                                    : #1766572230441 | took 0ms | commit | connection 140| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.442+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-3] p6spy                                    : #1766572230442 | took 0ms | statement | connection 140| url jdbc:h2:mem:library
select count(*) from members m1_0 where m1_0.id=?
select count(*) from members m1_0 where m1_0.id='m2';
2025-12-24T11:30:30.442+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-3] p6spy                                    : #1766572230442 | took 0ms | commit | connection 140| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.442+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-3] p6spy                                    : #1766572230442 | took 0ms | statement | connection 140| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b5';
2025-12-24T11:30:30.443+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-3] p6spy                                    : #1766572230443 | took 0ms | commit | connection 140| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.444+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-3] p6spy                                    : #1766572230444 | took 0ms | statement | connection 140| url jdbc:h2:mem:library
select count(*) from members m1_0 where m1_0.id=?
select count(*) from members m1_0 where m1_0.id='m2';
2025-12-24T11:30:30.444+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-3] p6spy                                    : #1766572230444 | took 0ms | commit | connection 140| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.445+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-3] p6spy                                    : #1766572230445 | took 0ms | commit | connection 140| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.446+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-3] p6spy                                    : #1766572230446 | took 0ms | statement | connection 140| url jdbc:h2:mem:library
insert into book_reservations (book_id,position,member_id) values (?,?,?)
insert into book_reservations (book_id,position,member_id) values ('b5',0,'m2');
2025-12-24T11:30:30.446+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-3] p6spy                                    : #1766572230446 | took 0ms | commit | connection 140| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.460+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-4] p6spy                                    : #1766572230460 | took 0ms | statement | connection 141| url jdbc:h2:mem:library
select count(*) from members m1_0 where m1_0.id=?
select count(*) from members m1_0 where m1_0.id='m2';
2025-12-24T11:30:30.461+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-4] p6spy                                    : #1766572230461 | took 0ms | commit | connection 141| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.463+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-4] p6spy                                    : #1766572230463 | took 0ms | statement | connection 141| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0;
2025-12-24T11:30:30.465+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-4] p6spy                                    : #1766572230465 | took 0ms | commit | connection 141| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.466+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-4] p6spy                                    : #1766572230466 | took 0ms | statement | connection 141| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b1';
2025-12-24T11:30:30.467+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-4] p6spy                                    : #1766572230467 | took 0ms | statement | connection 141| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b2';
2025-12-24T11:30:30.468+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-4] p6spy                                    : #1766572230468 | took 0ms | statement | connection 141| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b3';
2025-12-24T11:30:30.469+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-4] p6spy                                    : #1766572230469 | took 0ms | statement | connection 141| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b4';
2025-12-24T11:30:30.470+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-4] p6spy                                    : #1766572230470 | took 0ms | statement | connection 141| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b5';
2025-12-24T11:30:30.471+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-4] p6spy                                    : #1766572230470 | took 0ms | statement | connection 141| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b6';
2025-12-24T11:30:30.471+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-4] p6spy                                    : #1766572230471 | took 0ms | statement | connection 141| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='vb-search';
2025-12-24T11:30:30.474+01:00  INFO 25620 --- [library-api] [o-auto-8-exec-4] p6spy                                    : #1766572230474 | took 0ms | commit | connection 141| url jdbc:h2:mem:library

;
2025-12-24T11:30:30.499+01:00  INFO 25620 --- [library-api] [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-24T11:30:30.500+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown initiated...
2025-12-24T11:30:30.500+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown completed.



888b    888                  888             888      888      8888888888        d8888 8888888b.        .d8888b.   .d8888b.   .d8888b.   .d8888b.   
8888b   888                  888             888      888      888              d88888 888   Y88b      d88P  Y88b d88P  Y88b d88P  Y88b d88P  Y88b  
88888b  888                  888             888      888      888             d88P888 888    888             888 888    888        888 888         
888Y88b 888  .d88b.  888d888 888888  8888b.  888      888      8888888        d88P 888 888   d88P           .d88P 888    888      .d88P 888d888b.   
888 Y88b888 d88&quot;&quot;88b 888P&quot;   888        &quot;88b 888      888      888           d88P  888 8888888P&quot;        .od888P&quot;  888    888  .od888P&quot;  888P &quot;Y88b  
888  Y88888 888  888 888     888    .d888888 888      888      888          d88P   888 888             d88P&quot;      888    888 d88P&quot;      888    888  
888   Y8888 Y88..88P 888     Y88b.  888  888 888      888      888         d8888888888 888             888&quot;       Y88b  d88P 888&quot;       Y88b  d88P  
888    Y888  &quot;Y88P&quot;  888      &quot;Y888 &quot;Y888888 888      88888888 8888888888 d88P     888 888             888888888   &quot;Y8888P&quot;  888888888   &quot;Y8888P&quot;   
                                                                                                                                                    
                                                                                                                                                    
                                                                                                                                                    
 .d8888b.                888 d8b                               d8888                   d8b                                                   888    
d88P  Y88b               888 Y8P                              d88888                   Y8P                                                   888    
888    888               888                                 d88P888                                                                         888    
888         .d88b.   .d88888 888 88888b.   .d88b.           d88P 888 .d8888b  .d8888b  888  .d88b.  88888b.  88888b.d88b.   .d88b.  88888b.  888888 
888        d88&quot;&quot;88b d88&quot; 888 888 888 &quot;88b d88P&quot;88b         d88P  888 88K      88K      888 d88P&quot;88b 888 &quot;88b 888 &quot;888 &quot;88b d8P  Y8b 888 &quot;88b 888    
888    888 888  888 888  888 888 888  888 888  888        d88P   888 &quot;Y8888b. &quot;Y8888b. 888 888  888 888  888 888  888  888 88888888 888  888 888    
Y88b  d88P Y88..88P Y88b 888 888 888  888 Y88b 888       d8888888888      X88      X88 888 Y88b 888 888  888 888  888  888 Y8b.     888  888 Y88b.  
 &quot;Y8888P&quot;   &quot;Y88P&quot;   &quot;Y88888 888 888  888  &quot;Y88888      d88P     888  88888P'  88888P' 888  &quot;Y88888 888  888 888  888  888  &quot;Y8888  888  888  &quot;Y888 
                                               888                                              888                                                 
                                          Y8b d88P                                         Y8b d88P                                                 
                                           &quot;Y88P&quot;                                           &quot;Y88P&quot;                                                                                                 

H2 console: http://localhost:0/h2-console
API:        http://localhost:0/api

2025-12-24T11:30:30.543+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Starting ApiIntegrationTest using Java 23.0.1 with PID 25620 (started by ThinkpadT580 in C:\Users\ThinkpadT580\Desktop\nortal-leap-2026-test-assignment\backend\api)
2025-12-24T11:30:30.543+01:00 DEBUG 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-12-24T11:30:30.543+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : No active profile set, falling back to 1 default profile: &quot;default&quot;
2025-12-24T11:30:30.737+01:00  INFO 25620 --- [library-api] [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-24T11:30:30.744+01:00  INFO 25620 --- [library-api] [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 2 JPA repository interfaces.
2025-12-24T11:30:30.832+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-12-24T11:30:30.832+01:00  INFO 25620 --- [library-api] [    Test worker] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-24T11:30:30.833+01:00  INFO 25620 --- [library-api] [    Test worker] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-12-24T11:30:30.892+01:00  INFO 25620 --- [library-api] [    Test worker] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-24T11:30:30.892+01:00  INFO 25620 --- [library-api] [    Test worker] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 346 ms
2025-12-24T11:30:30.905+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Starting...
2025-12-24T11:30:30.905+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-9 - Added connection conn79: url=jdbc:h2:mem:library user=SA
2025-12-24T11:30:30.905+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Start completed.
2025-12-24T11:30:30.906+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:library'
2025-12-24T11:30:30.918+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230918 | took 0ms | statement | connection 143| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS members ( id VARCHAR(255) PRIMARY KEY, name VARCHAR(255) NOT NULL )
CREATE TABLE IF NOT EXISTS members ( id VARCHAR(255) PRIMARY KEY, name VARCHAR(255) NOT NULL );
2025-12-24T11:30:30.919+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230919 | took 0ms | statement | connection 143| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS books ( id VARCHAR(255) PRIMARY KEY, title VARCHAR(255) NOT NULL, loaned_to VARCHAR(255), due_date DATE )
CREATE TABLE IF NOT EXISTS books ( id VARCHAR(255) PRIMARY KEY, title VARCHAR(255) NOT NULL, loaned_to VARCHAR(255), due_date DATE );
2025-12-24T11:30:30.919+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572230919 | took 0ms | statement | connection 143| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS book_reservations ( book_id VARCHAR(255) NOT NULL, position INTEGER NOT NULL, member_id VARCHAR(255), CONSTRAINT fk_book_reservation_book FOREIGN KEY (book_id) REFERENCES books (id) )
CREATE TABLE IF NOT EXISTS book_reservations ( book_id VARCHAR(255) NOT NULL, position INTEGER NOT NULL, member_id VARCHAR(255), CONSTRAINT fk_book_reservation_book FOREIGN KEY (book_id) REFERENCES books (id) );
2025-12-24T11:30:30.926+01:00  INFO 25620 --- [library-api] [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-24T11:30:30.933+01:00  INFO 25620 --- [library-api] [    Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-24T11:30:30.945+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-24T11:30:31.007+01:00  INFO 25620 --- [library-api] [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-24T11:30:31.008+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231008 | took 0ms | statement | connection 145| url jdbc:h2:mem:library
select * from INFORMATION_SCHEMA.SEQUENCES
select * from INFORMATION_SCHEMA.SEQUENCES;
2025-12-24T11:30:31.009+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231009 | took 0ms | statement | connection 145| url jdbc:h2:mem:library
select * from &quot;LIBRARY&quot;.&quot;PUBLIC&quot;.&quot;BOOKS&quot; where 1=0
select * from &quot;LIBRARY&quot;.&quot;PUBLIC&quot;.&quot;BOOKS&quot; where 1=0;
2025-12-24T11:30:31.009+01:00  INFO 25620 --- [library-api] [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-24T11:30:31.154+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 52488 (http) with context path '/'
2025-12-24T11:30:31.156+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Started ApiIntegrationTest in 0.646 seconds (process running for 20.26)
2025-12-24T11:30:31.158+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231158 | took 0ms | statement | connection 146| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:31.160+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231160 | took 0ms | statement | connection 146| url jdbc:h2:mem:library
update members set count=?,name=? where id=?
update members set count=0,name='Kertu' where id='m1';
2025-12-24T11:30:31.160+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231160 | took 0ms | commit | connection 146| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.161+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231161 | took 0ms | statement | connection 147| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m2';
2025-12-24T11:30:31.162+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231162 | took 0ms | statement | connection 147| url jdbc:h2:mem:library
update members set count=?,name=? where id=?
update members set count=0,name='Rasmus' where id='m2';
2025-12-24T11:30:31.162+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231162 | took 0ms | commit | connection 147| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.163+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231163 | took 0ms | statement | connection 148| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m3';
2025-12-24T11:30:31.163+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231163 | took 0ms | commit | connection 148| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.164+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231164 | took 0ms | statement | connection 149| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m4';
2025-12-24T11:30:31.165+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231165 | took 0ms | commit | connection 149| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.166+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231166 | took 0ms | statement | connection 150| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b1';
2025-12-24T11:30:31.167+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231167 | took 0ms | statement | connection 150| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b1';
2025-12-24T11:30:31.168+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231168 | took 0ms | commit | connection 150| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.168+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231168 | took 0ms | statement | connection 151| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b2';
2025-12-24T11:30:31.169+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231169 | took 0ms | statement | connection 151| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b2';
2025-12-24T11:30:31.169+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231169 | took 0ms | commit | connection 151| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.170+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231170 | took 0ms | statement | connection 152| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b3';
2025-12-24T11:30:31.171+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231171 | took 0ms | statement | connection 152| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b3';
2025-12-24T11:30:31.171+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231171 | took 0ms | commit | connection 152| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.172+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231172 | took 0ms | statement | connection 153| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b4';
2025-12-24T11:30:31.173+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231173 | took 0ms | statement | connection 153| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b4';
2025-12-24T11:30:31.174+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231174 | took 0ms | statement | connection 153| url jdbc:h2:mem:library
update books set due_date=?,loaned_to=?,title=? where id=?
update books set due_date=NULL,loaned_to=NULL,title='Effective Java' where id='b4';
2025-12-24T11:30:31.174+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231174 | took 0ms | commit | connection 153| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.175+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231175 | took 0ms | statement | connection 154| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b5';
2025-12-24T11:30:31.175+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231175 | took 0ms | statement | connection 154| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b5';
2025-12-24T11:30:31.177+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231177 | took 0ms | statement | connection 154| url jdbc:h2:mem:library
update books set due_date=?,loaned_to=?,title=? where id=?
update books set due_date=NULL,loaned_to=NULL,title='Design Patterns' where id='b5';
2025-12-24T11:30:31.177+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231177 | took 0ms | statement | connection 154| url jdbc:h2:mem:library
delete from book_reservations where book_id=?
delete from book_reservations where book_id='b5';
2025-12-24T11:30:31.178+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231177 | took 0ms | commit | connection 154| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.178+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231178 | took 0ms | statement | connection 155| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b6';
2025-12-24T11:30:31.179+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231179 | took 0ms | statement | connection 155| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b6';
2025-12-24T11:30:31.179+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231179 | took 0ms | commit | connection 155| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.186+01:00  INFO 25620 --- [library-api] [o-auto-9-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-24T11:30:31.186+01:00  INFO 25620 --- [library-api] [o-auto-9-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-24T11:30:31.186+01:00  INFO 25620 --- [library-api] [o-auto-9-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-12-24T11:30:31.193+01:00  INFO 25620 --- [library-api] [o-auto-9-exec-1] p6spy                                    : #1766572231193 | took 0ms | statement | connection 156| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b6';
2025-12-24T11:30:31.195+01:00  INFO 25620 --- [library-api] [o-auto-9-exec-1] p6spy                                    : #1766572231195 | took 0ms | commit | connection 156| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.197+01:00  INFO 25620 --- [library-api] [o-auto-9-exec-1] p6spy                                    : #1766572231197 | took 0ms | statement | connection 156| url jdbc:h2:mem:library
select count(*) from members m1_0 where m1_0.id=?
select count(*) from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:31.197+01:00  INFO 25620 --- [library-api] [o-auto-9-exec-1] p6spy                                    : #1766572231197 | took 0ms | commit | connection 156| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.197+01:00  INFO 25620 --- [library-api] [o-auto-9-exec-1] p6spy                                    : #1766572231197 | took 0ms | commit | connection 156| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.198+01:00  INFO 25620 --- [library-api] [o-auto-9-exec-1] p6spy                                    : #1766572231198 | took 0ms | statement | connection 156| url jdbc:h2:mem:library
select count(*) from members m1_0 where m1_0.id=?
select count(*) from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:31.198+01:00  INFO 25620 --- [library-api] [o-auto-9-exec-1] p6spy                                    : #1766572231198 | took 0ms | commit | connection 156| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.199+01:00  INFO 25620 --- [library-api] [o-auto-9-exec-1] p6spy                                    : #1766572231199 | took 0ms | statement | connection 156| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:31.200+01:00  INFO 25620 --- [library-api] [o-auto-9-exec-1] p6spy                                    : #1766572231200 | took 0ms | commit | connection 156| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.200+01:00  INFO 25620 --- [library-api] [o-auto-9-exec-1] p6spy                                    : #1766572231200 | took 0ms | statement | connection 156| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b6';
2025-12-24T11:30:31.201+01:00  INFO 25620 --- [library-api] [o-auto-9-exec-1] p6spy                                    : #1766572231201 | took 0ms | commit | connection 156| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.202+01:00  INFO 25620 --- [library-api] [o-auto-9-exec-1] p6spy                                    : #1766572231202 | took 0ms | statement | connection 156| url jdbc:h2:mem:library
update books set due_date=?,loaned_to=?,title=? where id=?
update books set due_date='2026-01-07T00:00:00.000+0100',loaned_to='m1',title='The Pragmatic Programmer' where id='b6';
2025-12-24T11:30:31.203+01:00  INFO 25620 --- [library-api] [o-auto-9-exec-1] p6spy                                    : #1766572231203 | took 0ms | statement | connection 156| url jdbc:h2:mem:library
update members set count=?,name=? where id=?
update members set count=1,name='Kertu' where id='m1';
2025-12-24T11:30:31.203+01:00  INFO 25620 --- [library-api] [o-auto-9-exec-1] p6spy                                    : #1766572231203 | took 0ms | commit | connection 156| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.216+01:00  INFO 25620 --- [library-api] [o-auto-9-exec-2] p6spy                                    : #1766572231216 | took 0ms | statement | connection 157| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b6';
2025-12-24T11:30:31.217+01:00  INFO 25620 --- [library-api] [o-auto-9-exec-2] p6spy                                    : #1766572231217 | took 0ms | commit | connection 157| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.218+01:00  INFO 25620 --- [library-api] [o-auto-9-exec-2] p6spy                                    : #1766572231218 | took 0ms | statement | connection 157| url jdbc:h2:mem:library
update books set due_date=?,loaned_to=?,title=? where id=?
update books set due_date='2025-12-08T00:00:00.000+0100',loaned_to='m1',title='The Pragmatic Programmer' where id='b6';
2025-12-24T11:30:31.218+01:00  INFO 25620 --- [library-api] [o-auto-9-exec-2] p6spy                                    : #1766572231218 | took 0ms | commit | connection 157| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.224+01:00  INFO 25620 --- [library-api] [o-auto-9-exec-5] p6spy                                    : #1766572231224 | took 0ms | statement | connection 158| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0;
2025-12-24T11:30:31.226+01:00  INFO 25620 --- [library-api] [o-auto-9-exec-5] p6spy                                    : #1766572231226 | took 0ms | commit | connection 158| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.230+01:00  INFO 25620 --- [library-api] [o-auto-9-exec-5] p6spy                                    : #1766572231230 | took 0ms | statement | connection 158| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b6';
2025-12-24T11:30:31.243+01:00  INFO 25620 --- [library-api] [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-24T11:30:31.244+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown initiated...
2025-12-24T11:30:31.257+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown completed.



888b    888                  888             888      888      8888888888        d8888 8888888b.        .d8888b.   .d8888b.   .d8888b.   .d8888b.   
8888b   888                  888             888      888      888              d88888 888   Y88b      d88P  Y88b d88P  Y88b d88P  Y88b d88P  Y88b  
88888b  888                  888             888      888      888             d88P888 888    888             888 888    888        888 888         
888Y88b 888  .d88b.  888d888 888888  8888b.  888      888      8888888        d88P 888 888   d88P           .d88P 888    888      .d88P 888d888b.   
888 Y88b888 d88&quot;&quot;88b 888P&quot;   888        &quot;88b 888      888      888           d88P  888 8888888P&quot;        .od888P&quot;  888    888  .od888P&quot;  888P &quot;Y88b  
888  Y88888 888  888 888     888    .d888888 888      888      888          d88P   888 888             d88P&quot;      888    888 d88P&quot;      888    888  
888   Y8888 Y88..88P 888     Y88b.  888  888 888      888      888         d8888888888 888             888&quot;       Y88b  d88P 888&quot;       Y88b  d88P  
888    Y888  &quot;Y88P&quot;  888      &quot;Y888 &quot;Y888888 888      88888888 8888888888 d88P     888 888             888888888   &quot;Y8888P&quot;  888888888   &quot;Y8888P&quot;   
                                                                                                                                                    
                                                                                                                                                    
                                                                                                                                                    
 .d8888b.                888 d8b                               d8888                   d8b                                                   888    
d88P  Y88b               888 Y8P                              d88888                   Y8P                                                   888    
888    888               888                                 d88P888                                                                         888    
888         .d88b.   .d88888 888 88888b.   .d88b.           d88P 888 .d8888b  .d8888b  888  .d88b.  88888b.  88888b.d88b.   .d88b.  88888b.  888888 
888        d88&quot;&quot;88b d88&quot; 888 888 888 &quot;88b d88P&quot;88b         d88P  888 88K      88K      888 d88P&quot;88b 888 &quot;88b 888 &quot;888 &quot;88b d8P  Y8b 888 &quot;88b 888    
888    888 888  888 888  888 888 888  888 888  888        d88P   888 &quot;Y8888b. &quot;Y8888b. 888 888  888 888  888 888  888  888 88888888 888  888 888    
Y88b  d88P Y88..88P Y88b 888 888 888  888 Y88b 888       d8888888888      X88      X88 888 Y88b 888 888  888 888  888  888 Y8b.     888  888 Y88b.  
 &quot;Y8888P&quot;   &quot;Y88P&quot;   &quot;Y88888 888 888  888  &quot;Y88888      d88P     888  88888P'  88888P' 888  &quot;Y88888 888  888 888  888  888  &quot;Y8888  888  888  &quot;Y888 
                                               888                                              888                                                 
                                          Y8b d88P                                         Y8b d88P                                                 
                                           &quot;Y88P&quot;                                           &quot;Y88P&quot;                                                                                                 

H2 console: http://localhost:0/h2-console
API:        http://localhost:0/api

2025-12-24T11:30:31.298+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Starting ApiIntegrationTest using Java 23.0.1 with PID 25620 (started by ThinkpadT580 in C:\Users\ThinkpadT580\Desktop\nortal-leap-2026-test-assignment\backend\api)
2025-12-24T11:30:31.298+01:00 DEBUG 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Running with Spring Boot v3.3.4, Spring v6.1.13
2025-12-24T11:30:31.298+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : No active profile set, falling back to 1 default profile: &quot;default&quot;
2025-12-24T11:30:31.449+01:00  INFO 25620 --- [library-api] [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-24T11:30:31.455+01:00  INFO 25620 --- [library-api] [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 2 JPA repository interfaces.
2025-12-24T11:30:31.536+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-12-24T11:30:31.537+01:00  INFO 25620 --- [library-api] [    Test worker] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-24T11:30:31.537+01:00  INFO 25620 --- [library-api] [    Test worker] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-12-24T11:30:31.598+01:00  INFO 25620 --- [library-api] [    Test worker] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-24T11:30:31.599+01:00  INFO 25620 --- [library-api] [    Test worker] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 299 ms
2025-12-24T11:30:31.610+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Starting...
2025-12-24T11:30:31.611+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-10 - Added connection conn87: url=jdbc:h2:mem:library user=SA
2025-12-24T11:30:31.611+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Start completed.
2025-12-24T11:30:31.612+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:library'
2025-12-24T11:30:31.625+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231625 | took 0ms | statement | connection 160| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS members ( id VARCHAR(255) PRIMARY KEY, name VARCHAR(255) NOT NULL )
CREATE TABLE IF NOT EXISTS members ( id VARCHAR(255) PRIMARY KEY, name VARCHAR(255) NOT NULL );
2025-12-24T11:30:31.625+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231625 | took 0ms | statement | connection 160| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS books ( id VARCHAR(255) PRIMARY KEY, title VARCHAR(255) NOT NULL, loaned_to VARCHAR(255), due_date DATE )
CREATE TABLE IF NOT EXISTS books ( id VARCHAR(255) PRIMARY KEY, title VARCHAR(255) NOT NULL, loaned_to VARCHAR(255), due_date DATE );
2025-12-24T11:30:31.625+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231625 | took 0ms | statement | connection 160| url jdbc:h2:mem:library
CREATE TABLE IF NOT EXISTS book_reservations ( book_id VARCHAR(255) NOT NULL, position INTEGER NOT NULL, member_id VARCHAR(255), CONSTRAINT fk_book_reservation_book FOREIGN KEY (book_id) REFERENCES books (id) )
CREATE TABLE IF NOT EXISTS book_reservations ( book_id VARCHAR(255) NOT NULL, position INTEGER NOT NULL, member_id VARCHAR(255), CONSTRAINT fk_book_reservation_book FOREIGN KEY (book_id) REFERENCES books (id) );
2025-12-24T11:30:31.636+01:00  INFO 25620 --- [library-api] [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-24T11:30:31.640+01:00  INFO 25620 --- [library-api] [    Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-24T11:30:31.652+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-24T11:30:31.715+01:00  INFO 25620 --- [library-api] [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-24T11:30:31.715+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231715 | took 0ms | statement | connection 162| url jdbc:h2:mem:library
select * from INFORMATION_SCHEMA.SEQUENCES
select * from INFORMATION_SCHEMA.SEQUENCES;
2025-12-24T11:30:31.717+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231717 | took 0ms | statement | connection 162| url jdbc:h2:mem:library
select * from &quot;LIBRARY&quot;.&quot;PUBLIC&quot;.&quot;BOOKS&quot; where 1=0
select * from &quot;LIBRARY&quot;.&quot;PUBLIC&quot;.&quot;BOOKS&quot; where 1=0;
2025-12-24T11:30:31.717+01:00  INFO 25620 --- [library-api] [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-24T11:30:31.862+01:00  INFO 25620 --- [library-api] [    Test worker] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 52491 (http) with context path '/'
2025-12-24T11:30:31.863+01:00  INFO 25620 --- [library-api] [    Test worker] c.nortal.library.api.ApiIntegrationTest  : Started ApiIntegrationTest in 0.599 seconds (process running for 20.968)
2025-12-24T11:30:31.865+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231865 | took 0ms | statement | connection 163| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m1';
2025-12-24T11:30:31.867+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231867 | took 0ms | statement | connection 163| url jdbc:h2:mem:library
update members set count=?,name=? where id=?
update members set count=0,name='Kertu' where id='m1';
2025-12-24T11:30:31.867+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231867 | took 0ms | commit | connection 163| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.869+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231869 | took 0ms | statement | connection 164| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m2';
2025-12-24T11:30:31.869+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231869 | took 0ms | commit | connection 164| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.870+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231870 | took 0ms | statement | connection 165| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m3';
2025-12-24T11:30:31.870+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231870 | took 0ms | commit | connection 165| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.871+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231871 | took 0ms | statement | connection 166| url jdbc:h2:mem:library
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id=?
select m1_0.id,m1_0.count,m1_0.name from members m1_0 where m1_0.id='m4';
2025-12-24T11:30:31.872+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231872 | took 0ms | commit | connection 166| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.873+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231873 | took 0ms | statement | connection 167| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b1';
2025-12-24T11:30:31.874+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231874 | took 0ms | statement | connection 167| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b1';
2025-12-24T11:30:31.875+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231875 | took 0ms | commit | connection 167| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.876+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231876 | took 0ms | statement | connection 168| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b2';
2025-12-24T11:30:31.876+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231876 | took 0ms | statement | connection 168| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b2';
2025-12-24T11:30:31.876+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231876 | took 0ms | commit | connection 168| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.877+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231877 | took 0ms | statement | connection 169| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b3';
2025-12-24T11:30:31.878+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231878 | took 0ms | statement | connection 169| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b3';
2025-12-24T11:30:31.878+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231878 | took 0ms | commit | connection 169| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.879+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231879 | took 0ms | statement | connection 170| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b4';
2025-12-24T11:30:31.880+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231880 | took 0ms | statement | connection 170| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b4';
2025-12-24T11:30:31.880+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231880 | took 0ms | commit | connection 170| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.881+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231881 | took 0ms | statement | connection 171| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b5';
2025-12-24T11:30:31.881+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231881 | took 0ms | statement | connection 171| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b5';
2025-12-24T11:30:31.882+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231882 | took 0ms | commit | connection 171| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.883+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231883 | took 0ms | statement | connection 172| url jdbc:h2:mem:library
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id=?
select b1_0.id,b1_0.due_date,b1_0.loaned_to,b1_0.title from books b1_0 where b1_0.id='b6';
2025-12-24T11:30:31.884+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231884 | took 0ms | statement | connection 172| url jdbc:h2:mem:library
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id=?
select rq1_0.book_id,rq1_0.position,rq1_0.member_id from book_reservations rq1_0 where rq1_0.book_id='b6';
2025-12-24T11:30:31.885+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231885 | took 0ms | statement | connection 172| url jdbc:h2:mem:library
update books set due_date=?,loaned_to=?,title=? where id=?
update books set due_date=NULL,loaned_to=NULL,title='The Pragmatic Programmer' where id='b6';
2025-12-24T11:30:31.885+01:00  INFO 25620 --- [library-api] [    Test worker] p6spy                                    : #1766572231885 | took 0ms | commit | connection 172| url jdbc:h2:mem:library

;
2025-12-24T11:30:31.890+01:00  INFO 25620 --- [library-api] [-auto-10-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-24T11:30:31.890+01:00  INFO 25620 --- [library-api] [-auto-10-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-24T11:30:31.891+01:00  INFO 25620 --- [library-api] [-auto-10-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-12-24T11:30:31.912+01:00  INFO 25620 --- [library-api] [    Test worker] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-24T11:30:31.913+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Shutdown initiated...
2025-12-24T11:30:31.931+01:00  INFO 25620 --- [library-api] [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Shutdown completed.
</pre>
<button class="clipboard-copy-btn" aria-label="Copy to clipboard" data-copy-element-id="class-stdout">Copy</button>
</span>
</div>
<div class="tab">
<h2>Standard error</h2>
<span class="code">
<pre id="class-stderr">WARNING: A Java agent has been loaded dynamically (C:\Users\ThinkpadT580\.gradle\caches\modules-2\files-2.1\net.bytebuddy\byte-buddy-agent\1.14.19\154da3a65b4f4a909d3e5bdec55d1b2b4cbb6ce1\byte-buddy-agent-1.14.19.jar)
WARNING: If a serviceability tool is in use, please run with -XX:+EnableDynamicAgentLoading to hide this warning
WARNING: If a serviceability tool is not in use, please run with -Djdk.instrument.traceUsage for more information
WARNING: Dynamic loading of agents will be disallowed by default in a future release
</pre>
<button class="clipboard-copy-btn" aria-label="Copy to clipboard" data-copy-element-id="class-stderr">Copy</button>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="https://www.gradle.org">Gradle 9.2.1</a> at Dec 24, 2025, 11:30:32AM</p>
</div>
</div>
</body>
</html>
